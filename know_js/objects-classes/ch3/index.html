
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../ch2/" rel="prev"/>
<link href="../ch4/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.6" name="generator"/>
<title>Chapter 3: Classy Objects - shane0 learning_js</title>
<link href="../../../assets/stylesheets/main.558e4712.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#chapter-3-classy-objects">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="shane0 learning_js" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="shane0 learning_js">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            shane0 learning_js
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Chapter 3: Classy Objects
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="shane0 learning_js" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="shane0 learning_js">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    shane0 learning_js
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../todocli/">
        todo cli
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_3" tabindex="0">
          Bujo
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Bujo" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Bujo
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../bujo/2023/">
        2023
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label aria-expanded="true" class="md-nav__link" for="__nav_4" tabindex="0">
          Know js
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Know js" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Know js
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../">
        Index
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" id="__nav_4_2" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_4_2" tabindex="0">
          Es next beyond
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Es next beyond" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Es next beyond
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../es-next-beyond/">
        TOC: ES.Next &amp; Beyond - 2nd Edition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../es-next-beyond/ch1/">
        Chapter 1: TODO
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" id="__nav_4_3" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_4_3" tabindex="0">
          Get started
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Get started" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Get started
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/">
        Table of Contents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/apA/">
        Appendix A: Exploring Further
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/apB/">
        Appendix B: Practice, Practice, Practice!
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/ch1/">
        Chapter 1: What *Is* JavaScript?
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/ch2/">
        Chapter 2: Surveying JS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/ch3/">
        Chapter 3: Digging to the Roots of JS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../get-started/ch4/">
        Chapter 4: The Bigger Picture
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" id="__nav_4_4" type="checkbox"/>
<label aria-expanded="true" class="md-nav__link" for="__nav_4_4" tabindex="0">
          Objects classes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Objects classes" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          Objects classes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
        You Don't Know JS Yet: Objects &amp; Classes - 2nd Edition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ch1/">
        Chapter 1: Object Foundations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ch2/">
        Chapter 2: How Objects Work
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Chapter 3: Classy Objects
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Chapter 3: Classy Objects
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#when-should-i-class-orient-my-code">
    When Should I Class-Orient My Code?
  </a>
<nav aria-label="When Should I Class-Orient My Code?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#time-for-an-example">
    Time For An Example
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#single-vs-multiple">
    Single vs Multiple
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#keep-it-classy">
    Keep It classy
  </a>
<nav aria-label="Keep It classy" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#the-constructor">
    The Constructor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-methods">
    Class Methods
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-instance-this">
    Class Instance this
  </a>
<nav aria-label="Class Instance this" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#public-fields">
    Public Fields
  </a>
<nav aria-label="Public Fields" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#avoid-this">
    Avoid This
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-extension">
    Class Extension
  </a>
<nav aria-label="Class Extension" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#extending-expressions">
    Extending Expressions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#overriding-methods">
    Overriding Methods
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#thats-super">
    That's Super!
  </a>
<nav aria-label="That's Super!" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#which-class">
    Which Class?
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#but-which-kind-of-instance">
    But Which Kind Of Instance?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inheritance-is-sharing-not-copying">
    "Inheritance" Is Sharing, Not Copying
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-class-behavior">
    Static Class Behavior
  </a>
<nav aria-label="Static Class Behavior" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#static-property-initializations">
    Static Property Initializations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-inheritance">
    Static Inheritance
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-class-behavior">
    Private Class Behavior
  </a>
<nav aria-label="Private Class Behavior" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation?
  </a>
<nav aria-label="Motivation?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#too-private">
    Too Private?
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-membersmethods">
    Private Members/Methods
  </a>
<nav aria-label="Private Members/Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#subclassing-privates">
    Subclassing + Privates
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#existence-check">
    Existence Check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#exfiltration">
    Exfiltration
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-statics">
    Private Statics
  </a>
<nav aria-label="Private Statics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#gotcha-subclassing-with-static-privates-and-this">
    Gotcha: Subclassing With Static Privates and this
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-example">
    Class Example
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ch4/">
        Chapter 4: This Works
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ch5/">
        Chapter 5: Delegation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" id="__nav_4_5" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_4_5" tabindex="0">
          Scope closures
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Scope closures" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
          Scope closures
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/">
        Scope &amp; Closures - 2nd Edition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/apA/">
        Appendix A: Exploring Further
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/apB/">
        Appendix B: Practice
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch1/">
        Chapter 1: What's the Scope?
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch2/">
        Chapter 2: Illustrating Lexical Scope
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch3/">
        Chapter 3: The Scope Chain
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch4/">
        Chapter 4: Around the Global Scope
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch5/">
        Chapter 5: The (Not So) Secret Lifecycle of Variables
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch6/">
        Chapter 6: Limiting Scope Exposure
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch7/">
        Chapter 7: Using Closures
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/ch8/">
        Chapter 8: The Module Pattern
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/closures_bard/">
        closures bard
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scope-closures/scope_bard/">
        scope: bard version
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" id="__nav_4_6" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_4_6" tabindex="0">
          Sync async
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Sync async" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_6">
<span class="md-nav__icon md-icon"></span>
          Sync async
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sync-async/">
        TOC: Sync &amp; Async - 2nd Edition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sync-async/ch1/">
        Chapter 1: TODO
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" id="__nav_4_7" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_4_7" tabindex="0">
          Types grammar
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Types grammar" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_7">
<span class="md-nav__icon md-icon"></span>
          Types grammar
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../types-grammar/">
        TOC: Types &amp; Grammar - 2nd Edition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../types-grammar/ch1/">
        Chapter 1: Primitive Values
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../types-grammar/ch2/">
        Chapter 2: Primitive Behaviors
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../types-grammar/ch3/">
        Chapter 3: Object Values
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../types-grammar/ch4/">
        Chapter 4: Coercing Values
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_5" tabindex="0">
          Nucamp
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Nucamp" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Nucamp
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../nucamp/">
        nucamp notes
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#when-should-i-class-orient-my-code">
    When Should I Class-Orient My Code?
  </a>
<nav aria-label="When Should I Class-Orient My Code?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#time-for-an-example">
    Time For An Example
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#single-vs-multiple">
    Single vs Multiple
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#keep-it-classy">
    Keep It classy
  </a>
<nav aria-label="Keep It classy" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#the-constructor">
    The Constructor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-methods">
    Class Methods
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-instance-this">
    Class Instance this
  </a>
<nav aria-label="Class Instance this" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#public-fields">
    Public Fields
  </a>
<nav aria-label="Public Fields" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#avoid-this">
    Avoid This
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-extension">
    Class Extension
  </a>
<nav aria-label="Class Extension" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#extending-expressions">
    Extending Expressions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#overriding-methods">
    Overriding Methods
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#thats-super">
    That's Super!
  </a>
<nav aria-label="That's Super!" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#which-class">
    Which Class?
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#but-which-kind-of-instance">
    But Which Kind Of Instance?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inheritance-is-sharing-not-copying">
    "Inheritance" Is Sharing, Not Copying
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-class-behavior">
    Static Class Behavior
  </a>
<nav aria-label="Static Class Behavior" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#static-property-initializations">
    Static Property Initializations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-inheritance">
    Static Inheritance
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-class-behavior">
    Private Class Behavior
  </a>
<nav aria-label="Private Class Behavior" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation?
  </a>
<nav aria-label="Motivation?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#too-private">
    Too Private?
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-membersmethods">
    Private Members/Methods
  </a>
<nav aria-label="Private Members/Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#subclassing-privates">
    Subclassing + Privates
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#existence-check">
    Existence Check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#exfiltration">
    Exfiltration
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-statics">
    Private Statics
  </a>
<nav aria-label="Private Statics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#gotcha-subclassing-with-static-privates-and-this">
    Gotcha: Subclassing With Static Privates and this
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#class-example">
    Class Example
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="chapter-3-classy-objects">Chapter 3: Classy Objects<a class="headerlink" href="#chapter-3-classy-objects" title="Permanent link">¶</a></h1>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Work in progress</td>
</tr>
</tbody>
</table>
<p>The class-design pattern generally entails defining a <em>type of thing</em> (class), including data (members) and behaviors (methods), and then creating one or more concrete <em>instances</em> of this class definition as actual objects that can interact and perform tasks. Moreover, class-orientation allows declaring a relationship between two or more classes, through what's called "inheritance", to derive new and augmented "subclasses" that mix-n-match and even re-define behaviors.</p>
<p>Prior to ES6 (2015), JS developers mimicked aspects of class-oriented (aka "object-oriented") design using plain functions and objects, along with the <code>[[Prototype]]</code> mechanism (as explained in the previous chapter) -- so called "prototypal classes".</p>
<p>But to many developers joy and relief, ES6 introduced dedicated syntax, including the <code>class</code> and <code>extends</code> keywords, to express class-oriented design more declaratively.</p>
<p>At the time of ES6's <code>class</code> being introduced, this new dedicated syntax was almost entirely <em>just syntactic sugar</em> to make class definitions more convenient and readable. However, in the many years since ES6, <code>class</code> has matured and grown into its own first class feature mechanism, accruing a significant amount of dedicated syntax and complex behaviors that far surpass the pre-ES6 "prototypal class" capabilities.</p>
<p>Even though <code>class</code> now bears almost no resemblance to older "prototypal class" code style, the JS engine is still <em>just</em> wiring up objects to each other through the existing <code>[[Prototype]]</code> mechanism. In other words, <code>class</code> is not its own separate pillar of the language (as <code>[[Prototype]]</code> is), but more like the fancy, decorative <em>Capital</em> that tops the pillar/column.</p>
<p>That said, since <code>class</code> style code has now replaced virtually all previous "prototypal class" coding, the main text here focuses only on <code>class</code> and its various particulars. For historical purposes, we'll briefly cover the old "prototypal class" style in an appendix.</p>
<h2 id="when-should-i-class-orient-my-code">When Should I Class-Orient My Code?<a class="headerlink" href="#when-should-i-class-orient-my-code" title="Permanent link">¶</a></h2>
<p>Class-orientation is a design pattern, which means it's a choice for how you organize the information and behavior in your program. It has pros and cons. It's not a universal solution for all tasks.</p>
<p>So how do you know when you should use classes?</p>
<p>In a theoretical sense, class-orientation is a way of dividing up the business domain of a program into one or more pieces that can each be defined by an "is-a" classification: grouping a thing into the set (or sets) of characteristics that thing shares with other similar things. You would say "X is a Y", meaning X has (at least) all the characteristics of a thing of kind Y.</p>
<p>For example, consider computers. We could say a computer is electrical, since it uses electrical current (voltage, amps, etc) as power. It's furthermore electronic, because it manipulates the electrical current beyond simply routing electrons around (electrical/magnetic fields), creating a meaningful circuit to manipulate the current into performing more complex tasks. By contrast, a basic desk lamp is electrical, but not really electronic.</p>
<p>We could thus define a class <code>Electrical</code> to describe what electrical devices need and can do. We could then define a further class <code>Electronic</code>, and define that in addition to being electrical, <code>Electronic</code> things manipulate electricity to create more specialized outcomes.</p>
<p>Here's where class-orientation starts to shine. Rather than re-define all the <code>Electrical</code> characteristics in the <code>Electronic</code> class, we can define <code>Electronic</code> in such a way that it "shares" or "inherits" those characteristics from <code>Electrical</code>, and then augments/redefines the unique behaviors that make a device electronic. This relationship between the two classes -- called "inheritance" -- is a key aspect of class-orientation.</p>
<p>So class-orientation is a way of thinking about the entities our program needs, and classifying them into groupings based on their characteristics (what information they hold, what operations can be performed on that data), and defining the relationships between the different grouping of characteristics.</p>
<p>But moving from the theoretical into in a bit more pragmatic perspective: if your program needs to hold and use multiple collections (instances) of alike data/behavior at once, you <em>may</em> benefit from class-orientation.</p>
<h3 id="time-for-an-example">Time For An Example<a class="headerlink" href="#time-for-an-example" title="Permanent link">¶</a></h3>
<p>Here's a short illustration.</p>
<p>A couple of decades ago, right after I had gone through nearly all of a Computer Science degree in college, I found myself sitting in my first professional software developer job. I was tasked with building, all by myself, a timesheet and payroll tracking system. I built the backend in PHP (using MySQL for the DB) and used JS for the interface (early as it was in its maturity way back around the turn of the century).</p>
<p>Since my CS degree had emphasized class-orientation heavily throughout my courses, I was eager to put all that theory to work. For my program's design, I defined the concept of a "timesheet" entity as a collection of 2-3 "week" entities, and each "week" as a collection of 5-7 "day" entities, and each "day" as a collection of "task" entities.</p>
<p>If I wanted to know how many hours were logged into a timesheet instance, I could call a <code>totalTime()</code> operation on that instance. The timesheet defined this operation by looping over its collection of weeks, calling <code>totalTime()</code> on each of them and summing the values. Each week did the same for all its days, and each day did the same for all its tasks.</p>
<p>The notion being illustrated here, one of the fundamentals of design patterns like class-orientation, is called <em>encapsulation</em>. Each entity level encapsulated (e.g., controlled, hid, abstracted) internal details (data and behavior) while presenting a useful external interface.</p>
<p>But encapsulation alone isn't a sufficient justification for class-orientation. Other design patterns offer sufficient encapsulation.</p>
<p>How did my class design take advantage of inheritance? I had a base class that defined a set of operations like <code>totalTime()</code>, and each of my entity class types extended/subclassed this base class. That meant that each of them inherited this summation-of-total-time capability, but where each of them applied their own extensions and definitions for the internal details of <em>how</em> to do that work.</p>
<p>There's yet another aspect of the design pattern at play, which is <em>composition</em>: each entity was defined as a collection of other entities.</p>
<h3 id="single-vs-multiple">Single vs Multiple<a class="headerlink" href="#single-vs-multiple" title="Permanent link">¶</a></h3>
<p>I mentioned above that a pragmatic way of deciding if you need class-orientation is if your program is going to have multiple instances of a single kind/type of behavior (aka, "class"). In the timesheet example, we had 4 classes: Timesheet, Week, Day, and Task. But for each class, we had multiple instances of each at once.</p>
<p>Had we instead only needed a single instance of a class, like just one <code>Computer</code> thing that was an instance of the <code>Electronic</code> class, which was a subclass of the <code>Electrical</code> class, then class-orientation may not offer quite as much benefit. In particular, if the program doesn't need to create an instance of the <code>Electrical</code> class, then there's no particular benefit to separating <code>Electrical</code> from <code>Electronic</code>, so we aren't really getting any help from the inheritance aspect of class-orientation.</p>
<p>So, if you find yourself designing a program by dividing up a business problem domain into different "classes" of entities, but in the actual code of the program you are only ever need one concrete <em>thing</em> of one kind/definition of behavior (aka, "class"), you might very well not actually need class-orientation. There are other design patterns which may be a more efficient match to your effort.</p>
<p>But if you find yourself wanting to define classes, and subclasses which inherit from them, and if you're going to be instantiating one or more of those classes multiple times, then class-orientation is a good candidate. And to do class-orientation in JS, you're going to need the <code>class</code> keyword.</p>
<h2 id="keep-it-classy">Keep It <code>class</code>y<a class="headerlink" href="#keep-it-classy" title="Permanent link">¶</a></h2>
<p><code>class</code> defines either a declaration or expression for a class. As a declaration, a class definition appears in a statement position and looks like this:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="p">}</span>
</code></pre></div>
<p>As an expression, a class definition appears in a value position and can either have a name or be anonymous:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// named class expression</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">pointClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="p">};</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="c1">// anonymous class expression</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="kd">const</span><span class="w"> </span><span class="nx">anotherClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="p">};</span>
</code></pre></div>
<p>The contents of a <code>class</code> body typically include one or more method definitions:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="nx">setX</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">        </span><span class="c1">// ..</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">    </span><span class="nx">setY</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">        </span><span class="c1">// ..</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="p">}</span>
</code></pre></div>
<p>Inside a <code>class</code> body, methods are defined without the <code>function</code> keyword, and there's no <code>,</code> or <code>;</code> separators between the method definitions.</p>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Inside a <code>class</code> block, all code runs in strict-mode even without the <code>"use strict"</code> pragma present in the file or its functions. In particular, this impacts the <code>this</code> behavior for function calls, as explained in Chapter 4.</td>
</tr>
</tbody>
</table>
<h3 id="the-constructor">The Constructor<a class="headerlink" href="#the-constructor" title="Permanent link">¶</a></h3>
<p>One special method that all classes have is called a "constructor". If omitted, there's a default empty constructor assumed in the definition.</p>
<p>The constructor is invoked any time a <code>new</code> instance of the class is created:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Here's your new instance!"</span><span class="p">);</span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="p">}</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">();</span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="c1">// Here's your new instance!</span>
</code></pre></div>
<p>Even though the syntax implies a function actually named <code>constructor</code> exists, JS defines a function as specified, but with the name of the class (<code>Point2d</code> above):</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="ow">typeof</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">;</span><span class="w">       </span><span class="c1">// "function"</span>
</code></pre></div>
<p>It's not <em>just</em> a regular function, though; this special kind of function behaves a bit differently:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="c1">// class Point2d {</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="c1">//   ..</span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="c1">// }</span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="nx">Point2d</span><span class="p">();</span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="c1">// TypeError: Class constructor Point2d cannot</span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="c1">// be invoked without 'new'</span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">call</span><span class="p">({});</span>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="c1">// TypeError: Class constructor Point2d cannot</span>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="c1">// be invoked without 'new'</span>
</code></pre></div>
<p>You can construct as many different instances of a class as you need:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">();</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kd">var</span><span class="w"> </span><span class="nx">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">();</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="kd">var</span><span class="w"> </span><span class="nx">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">();</span>
</code></pre></div>
<p>Each of <code>one</code>, <code>two</code>, and <code>three</code> here are objects that are independent instances of the <code>Point2d</code> class.</p>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Each of the <code>one</code>, <code>two</code>, and <code>three</code> objects have a <code>[[Prototype]]</code> linkage to the <code>Point2d.prototype</code> object (see Chapter 2). In this code, <code>Point2d</code> is both a <code>class</code> definition and the constructor function of the same name.</td>
</tr>
</tbody>
</table>
<p>If you add a property to the object <code>one</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nx">one</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">42</span><span class="p">;</span>
</code></pre></div>
<p>That property now exists only on <code>one</code>, and does not exist in any way that the independent <code>two</code> or <code>three</code> objects can access:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nx">two</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="w">      </span><span class="c1">// undefined</span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="nx">three</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="w">    </span><span class="c1">// undefined</span>
</code></pre></div>
<h3 id="class-methods">Class Methods<a class="headerlink" href="#class-methods" title="Permanent link">¶</a></h3>
<p>As shown above, a class definition can include one or more method definitions:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Here's your new instance!"</span><span class="p">);</span>
<a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">    </span><span class="nx">setX</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Setting x to: </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">        </span><span class="c1">// ..</span>
<a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="p">}</span>
<a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a>
<a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">();</span>
<a href="#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a>
<a href="#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="nx">point</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mf">3</span><span class="p">);</span>
<a href="#__codelineno-9-14" id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="c1">// Setting x to: 3</span>
</code></pre></div>
<p>The <code>setX</code> property (method) <em>looks like</em> it exists on (is owned by) the <code>point</code> object here. But that's a mirage. Each class method is added to the <code>prototype</code>object, a property of the constructor function.</p>
<p>So, <code>setX(..)</code> only exists as <code>Point2d.prototype.setX</code>. Since <code>point</code> is <code>[[Prototype]]</code> linked to <code>Point2d.prototype</code> (see Chapter 2) via the <code>new</code> keyword instantiation, the <code>point.setX(..)</code> reference traverses the <code>[[Prototype]]</code> chain and finds the method to execute.</p>
<p>Class methods should only be invoked via an instance; <code>Point2d.setX(..)</code> doesn't work because there <em>is no</em> such property. You <em>could</em> invoke <code>Point2d.prototype.setX(..)</code>, but that's not generally proper/advised in standard class-oriented coding. Always access class methods via the instances.</p>
<h2 id="class-instance-this">Class Instance <code>this</code><a class="headerlink" href="#class-instance-this" title="Permanent link">¶</a></h2>
<p>We will cover the <code>this</code> keyword in much more detail in a subsequent chapter. But as it relates to class-oriented code, the <code>this</code> keyword generally refers to the current instance that is the context of any method invocation.</p>
<p>In the constructor, as well as any methods, you can use <code>this.</code> to either add or access properties on the current instance:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">        </span><span class="c1">// add properties to the current instance</span>
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">        </span><span class="c1">// access the properties from the current instance</span>
<a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
<a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="p">}</span>
<a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a>
<a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a>
<a href="#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span><span class="w">                </span><span class="c1">// 3</span>
<a href="#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="w">                </span><span class="c1">// 4</span>
<a href="#__codelineno-10-17" id="__codelineno-10-17" name="__codelineno-10-17"></a>
<a href="#__codelineno-10-18" id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="nx">point</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="w">       </span><span class="c1">// (3,4)</span>
</code></pre></div>
<p>Any properties not holding function values, which are added to a class instance (usually via the constructor), are referred to as <em>members</em>, as opposed to the term <em>methods</em> for executable functions.</p>
<p>While the <code>point.toString()</code> method is running, its <code>this</code> reference is pointing at the same object that <code>point</code> references. That's why both <code>point.x</code> and <code>this.x</code> reveal the same <code>3</code> value that the constructor set with its <code>this.x = x</code> operation.</p>
<h3 id="public-fields">Public Fields<a class="headerlink" href="#public-fields" title="Permanent link">¶</a></h3>
<p>Instead of defining a class instance member imperatively via <code>this.</code> in the constructor or a method, classes can declaratively define <em>fields</em> in the <code>class</code> body, which correspond directly to members that will be created on each instance:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="c1">// these are public fields</span>
<a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a>
<a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">        </span><span class="c1">// set properties (fields) on the current instance</span>
<a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-11-10" id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-11-11" id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-11-12" id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">        </span><span class="c1">// access the properties from the current instance</span>
<a href="#__codelineno-11-13" id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
<a href="#__codelineno-11-14" id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-11-15" id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="p">}</span>
</code></pre></div>
<p>Public fields can have a value initialization, as shown above, but that's not required. If you don't initialize a field in the class definition, you almost always should initialize it in the constructor.</p>
<p>Fields can also reference each other, via natural <code>this.</code> access syntax:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="c1">// these are public fields</span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4</span>
<a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">5</span>
<a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a>
<a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">TIP:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">You can mostly think of public field declarations as if they appear at the top of the <code>constructor(..)</code>, each prefixed with an implied <code>this.</code> that you get to omit in the declarative <code>class</code> body form. But, there's a catch! See "That's Super!" later for more information about it.</td>
</tr>
</tbody>
</table>
<p>Just like computed property names (see Chapter 1), field names can be computed:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">coordName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"x"</span><span class="p">;</span>
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a>
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">    </span><span class="c1">// computed public field</span>
<a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">    </span><span class="p">[</span><span class="nx">coordName</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">42</span>
<a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a>
<a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="p">}</span>
<a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a>
<a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-13-11" id="__codelineno-13-11" name="__codelineno-13-11"></a>
<a href="#__codelineno-13-12" id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span><span class="w">        </span><span class="c1">// 3</span>
<a href="#__codelineno-13-13" id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="w">        </span><span class="c1">// 4</span>
<a href="#__codelineno-13-14" id="__codelineno-13-14" name="__codelineno-13-14"></a>
<a href="#__codelineno-13-15" id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="nx">point</span><span class="p">.</span><span class="nx">X</span><span class="p">;</span><span class="w">        </span><span class="c1">// 42</span>
</code></pre></div>
<h4 id="avoid-this">Avoid This<a class="headerlink" href="#avoid-this" title="Permanent link">¶</a></h4>
<p>One pattern that has emerged and grown quite popular, but which I firmly believe is an anti-pattern for <code>class</code>, looks like the following:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">    </span><span class="nx">getDoubleX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span>
<a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a>
<a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-14-11" id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="p">}</span>
<a href="#__codelineno-14-12" id="__codelineno-14-12" name="__codelineno-14-12"></a>
<a href="#__codelineno-14-13" id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-14-14" id="__codelineno-14-14" name="__codelineno-14-14"></a>
<a href="#__codelineno-14-15" id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="nx">point</span><span class="p">.</span><span class="nx">getDoubleX</span><span class="p">();</span><span class="w">    </span><span class="c1">// 6</span>
</code></pre></div>
<p>See the field holding an <code>=&gt;</code> arrow function? I say this is a no-no. But why? Let's unwind what's going on.</p>
<p>First, why do this? Because JS developers seem to be perpetually frustrated by the dynamic <code>this</code> binding rules (see Chapter 4), so they force a <code>this</code> binding via the <code>=&gt;</code> arrow function. That way, no matter how <code>getDoubleX()</code> is invoked, it's always <code>this</code>-bound to the particular instance. That's an understandable convenience to desire, but... it betrays the very nature of the <code>this</code> / <code>[[Prototype]]</code> pillar of the language. How?</p>
<p>Let's consider the equivalent code to the previous snippet:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">getDoubleX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>
<a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-15-10" id="__codelineno-15-10" name="__codelineno-15-10"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-15-11" id="__codelineno-15-11" name="__codelineno-15-11"></a><span class="p">}</span>
<a href="#__codelineno-15-12" id="__codelineno-15-12" name="__codelineno-15-12"></a>
<a href="#__codelineno-15-13" id="__codelineno-15-13" name="__codelineno-15-13"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-15-14" id="__codelineno-15-14" name="__codelineno-15-14"></a>
<a href="#__codelineno-15-15" id="__codelineno-15-15" name="__codelineno-15-15"></a><span class="nx">point</span><span class="p">.</span><span class="nx">getDoubleX</span><span class="p">();</span><span class="w">    </span><span class="c1">// 6</span>
</code></pre></div>
<p>Can you spot the problem? Look closely. I'll wait.</p>
<p>...</p>
<p>We've made it clear repeatedly so far that <code>class</code> definitions put their methods on the class constructor's <code>prototype</code> object -- that's where they belong! -- such that there's just one of each function and it's inherited (shared) by all instances. That's what will happen with <code>toString()</code> in the above snippet.</p>
<p>But what about <code>getDoubleX()</code>? That's essentially a class method, but it won't be handled by JS quite the same as <code>toString()</code> will. Consider:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">point</span><span class="p">,</span><span class="s2">"x"</span><span class="p">);</span><span class="w">               </span><span class="c1">// true -- good</span>
<a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">point</span><span class="p">,</span><span class="s2">"toString"</span><span class="p">);</span><span class="w">        </span><span class="c1">// false -- good</span>
<a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">point</span><span class="p">,</span><span class="s2">"getDoubleX"</span><span class="p">);</span><span class="w">      </span><span class="c1">// true -- oops :(</span>
</code></pre></div>
<p>You see now? By defining a function value and attaching it as a field/member property, we're losing the shared prototypal method'ness of the function, and it becomes just like any per-instance property. That means we're creating a new function property <strong>for each instance</strong>, rather than it being created just once on the class constructor's <code>prototype</code>.</p>
<p>That's wasteful in performance and memory, even if by a tiny bit. That alone should be enough to avoid it.</p>
<p>But I would argue that way more importantly, what you've done with this pattern is invalidate the very reason why using <code>class</code> and <code>this</code>-aware methods is even remotely useful/powerful!</p>
<p>If you go to all the trouble to define class methods with <code>this.</code> references throughout them, but then you lock/bind most or all of those methods to a specific object instance, you've basically travelled all the way around the world just to go next door.</p>
<p>If all you want are function(s) that are statically fixed to a particular "context", and don't need any dynamicism or sharing, what you want is... <strong>closure</strong>. And you're in luck: I wrote a whole book in this series ("Scope &amp; Closures") on how to use closure so functions remember/access their statically defined scope (aka "context"). That's a way more appropriate, and simpler to code, approach to get what you're after.</p>
<p>Don't abuse/misuse <code>class</code> and turn it into a over-hyped, glorified collection of closure.</p>
<p>To be clear, I'm <em>not</em> saying: never use <code>=&gt;</code> arrow functions inside classes.</p>
<p>I <em>am</em> saying: never attach an <code>=&gt;</code> arrow function as an instance property in place of a dynamic prototypal class method, either out of mindless habit, or laziness in typing fewer characters, or misguided <code>this</code>-binding convenience.</p>
<p>In a subsequent chapter, we'll dive deep into how to understand and properly leverage the full power of the dynamic <code>this</code> mechanism.</p>
<h2 id="class-extension">Class Extension<a class="headerlink" href="#class-extension" title="Permanent link">¶</a></h2>
<p>The way to unlock the power of class inheritance is through the <code>extends</code> keyword, which defines a relationship between two classes:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3</span>
<a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4</span>
<a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a>
<a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">    </span><span class="nx">getX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-17-7" id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-17-8" id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="p">}</span>
<a href="#__codelineno-17-9" id="__codelineno-17-9" name="__codelineno-17-9"></a>
<a href="#__codelineno-17-10" id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-17-11" id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">21</span>
<a href="#__codelineno-17-12" id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span>
<a href="#__codelineno-17-13" id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span>
<a href="#__codelineno-17-14" id="__codelineno-17-14" name="__codelineno-17-14"></a>
<a href="#__codelineno-17-15" id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="w">    </span><span class="nx">printDoubleX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-17-16" id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`double x: </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getX</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-17-17" id="__codelineno-17-17" name="__codelineno-17-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-17-18" id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="p">}</span>
<a href="#__codelineno-17-19" id="__codelineno-17-19" name="__codelineno-17-19"></a>
<a href="#__codelineno-17-20" id="__codelineno-17-20" name="__codelineno-17-20"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">();</span>
<a href="#__codelineno-17-21" id="__codelineno-17-21" name="__codelineno-17-21"></a>
<a href="#__codelineno-17-22" id="__codelineno-17-22" name="__codelineno-17-22"></a><span class="nx">point</span><span class="p">.</span><span class="nx">getX</span><span class="p">();</span><span class="w">                   </span><span class="c1">// 3</span>
<a href="#__codelineno-17-23" id="__codelineno-17-23" name="__codelineno-17-23"></a>
<a href="#__codelineno-17-24" id="__codelineno-17-24" name="__codelineno-17-24"></a><span class="kd">var</span><span class="w"> </span><span class="nx">anotherPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">();</span>
<a href="#__codelineno-17-25" id="__codelineno-17-25" name="__codelineno-17-25"></a>
<a href="#__codelineno-17-26" id="__codelineno-17-26" name="__codelineno-17-26"></a><span class="nx">anotherPoint</span><span class="p">.</span><span class="nx">getX</span><span class="p">();</span><span class="w">            </span><span class="c1">// 21</span>
<a href="#__codelineno-17-27" id="__codelineno-17-27" name="__codelineno-17-27"></a><span class="nx">anotherPoint</span><span class="p">.</span><span class="nx">printDoubleX</span><span class="p">();</span><span class="w">    </span><span class="c1">// double x: 42</span>
</code></pre></div>
<p>Take a few moments to re-read that code snippet and make sure you fully understand what's happening.</p>
<p>The base class <code>Point2d</code> defines fields (members) called <code>x</code> and <code>y</code>, and gives them the initial values <code>3</code> and <code>4</code>, respectively. It also defines a <code>getX()</code> method that accesses this <code>x</code> instance member and returns it. We see that behavior illustrated in the <code>point.getX()</code> method call.</p>
<p>But the <code>Point3d</code> class extends <code>Point2d</code>, making <code>Point3d</code> a derived-class, child-class, or (most commonly) subclass. In <code>Point3d</code>, the same <code>x</code> property that's inherited from <code>Point2d</code> is re-initialized with a different <code>21</code> value, as is the <code>y</code> overriden to value from <code>4</code>, to <code>10</code>.</p>
<p>It also adds a new <code>z</code> field/member method, as well as a <code>printDoubleX()</code> method, which itself calls <code>this.getX()</code>.</p>
<p>When <code>anotherPoint.printDoubleX()</code> is invoked, the inherited <code>this.getX()</code> is thus invoked, and that method makes reference to <code>this.x</code>. Since <code>this</code> is pointing at the class instance (aka, <code>anotherPoint</code>), the value it finds is now <code>21</code> (instead of <code>3</code> from the <code>point</code> object's <code>x</code> member).</p>
<h3 id="extending-expressions">Extending Expressions<a class="headerlink" href="#extending-expressions" title="Permanent link">¶</a></h3>
<p>// TODO: cover <code>class Foo extends ..</code> where <code>..</code> is an expression, not a class-name</p>
<h3 id="overriding-methods">Overriding Methods<a class="headerlink" href="#overriding-methods" title="Permanent link">¶</a></h3>
<p>In addition to overriding a field/member in a subclass, you can also override (redefine) a method:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3</span>
<a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4</span>
<a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a>
<a href="#__codelineno-18-5" id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="w">    </span><span class="nx">getX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-18-6" id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-18-7" id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-18-8" id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="p">}</span>
<a href="#__codelineno-18-9" id="__codelineno-18-9" name="__codelineno-18-9"></a>
<a href="#__codelineno-18-10" id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-18-11" id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">21</span>
<a href="#__codelineno-18-12" id="__codelineno-18-12" name="__codelineno-18-12"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span>
<a href="#__codelineno-18-13" id="__codelineno-18-13" name="__codelineno-18-13"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span>
<a href="#__codelineno-18-14" id="__codelineno-18-14" name="__codelineno-18-14"></a>
<a href="#__codelineno-18-15" id="__codelineno-18-15" name="__codelineno-18-15"></a><span class="w">    </span><span class="nx">getX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-18-16" id="__codelineno-18-16" name="__codelineno-18-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<a href="#__codelineno-18-17" id="__codelineno-18-17" name="__codelineno-18-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-18-18" id="__codelineno-18-18" name="__codelineno-18-18"></a><span class="w">    </span><span class="nx">printX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-18-19" id="__codelineno-18-19" name="__codelineno-18-19"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`double x: </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getX</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-18-20" id="__codelineno-18-20" name="__codelineno-18-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-18-21" id="__codelineno-18-21" name="__codelineno-18-21"></a><span class="p">}</span>
<a href="#__codelineno-18-22" id="__codelineno-18-22" name="__codelineno-18-22"></a>
<a href="#__codelineno-18-23" id="__codelineno-18-23" name="__codelineno-18-23"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">();</span>
<a href="#__codelineno-18-24" id="__codelineno-18-24" name="__codelineno-18-24"></a>
<a href="#__codelineno-18-25" id="__codelineno-18-25" name="__codelineno-18-25"></a><span class="nx">point</span><span class="p">.</span><span class="nx">printX</span><span class="p">();</span><span class="w">       </span><span class="c1">// double x: 42</span>
</code></pre></div>
<p>The <code>Point3d</code> subclass overrides the inherited <code>getX()</code> method to give it different behavior. However, you can still instantiate the base <code>Point2d</code> class, which would then give an object that uses the original (<code>return this.x;</code>) definition for <code>getX()</code>.</p>
<p>If you want to access an inherited method from a subclass even if it's been overriden, you can use <code>super</code> instead of <code>this</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3</span>
<a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4</span>
<a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a>
<a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">    </span><span class="nx">getX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="p">}</span>
<a href="#__codelineno-19-9" id="__codelineno-19-9" name="__codelineno-19-9"></a>
<a href="#__codelineno-19-10" id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-19-11" id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">21</span>
<a href="#__codelineno-19-12" id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span>
<a href="#__codelineno-19-13" id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span>
<a href="#__codelineno-19-14" id="__codelineno-19-14" name="__codelineno-19-14"></a>
<a href="#__codelineno-19-15" id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="w">    </span><span class="nx">getX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-19-16" id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<a href="#__codelineno-19-17" id="__codelineno-19-17" name="__codelineno-19-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-19-18" id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="w">    </span><span class="nx">printX</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-19-19" id="__codelineno-19-19" name="__codelineno-19-19"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`x: </span><span class="si">${</span><span class="k">super</span><span class="p">.</span><span class="nx">getX</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-19-20" id="__codelineno-19-20" name="__codelineno-19-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-19-21" id="__codelineno-19-21" name="__codelineno-19-21"></a><span class="p">}</span>
<a href="#__codelineno-19-22" id="__codelineno-19-22" name="__codelineno-19-22"></a>
<a href="#__codelineno-19-23" id="__codelineno-19-23" name="__codelineno-19-23"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">();</span>
<a href="#__codelineno-19-24" id="__codelineno-19-24" name="__codelineno-19-24"></a>
<a href="#__codelineno-19-25" id="__codelineno-19-25" name="__codelineno-19-25"></a><span class="nx">point</span><span class="p">.</span><span class="nx">printX</span><span class="p">();</span><span class="w">       </span><span class="c1">// x: 21</span>
</code></pre></div>
<p>The ability for methods of the same name, at different levels of the inheritance hierarchy, to exhibit different behavior when either accessed directly, or relatively with <code>super</code>, is called <em>method polymorphism</em>. It's a very powerful part of class-orientation, when used appropriately.</p>
<h3 id="thats-super">That's Super!<a class="headerlink" href="#thats-super" title="Permanent link">¶</a></h3>
<p>In addition to a subclass method accessing an inherited method definition (even if overriden on the subclass) via <code>super.</code> reference, a subclass constructor must manually invoke the inherited base class constructor via <code>super(..)</code> function invocation:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-20-7" id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-20-8" id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="p">}</span>
<a href="#__codelineno-20-9" id="__codelineno-20-9" name="__codelineno-20-9"></a>
<a href="#__codelineno-20-10" id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-20-11" id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="w">    </span><span class="nx">z</span>
<a href="#__codelineno-20-12" id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-20-13" id="__codelineno-20-13" name="__codelineno-20-13"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span>
<a href="#__codelineno-20-14" id="__codelineno-20-14" name="__codelineno-20-14"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
<a href="#__codelineno-20-15" id="__codelineno-20-15" name="__codelineno-20-15"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-20-16" id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-20-17" id="__codelineno-20-17" name="__codelineno-20-17"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
<a href="#__codelineno-20-18" id="__codelineno-20-18" name="__codelineno-20-18"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-20-19" id="__codelineno-20-19" name="__codelineno-20-19"></a><span class="p">}</span>
<a href="#__codelineno-20-20" id="__codelineno-20-20" name="__codelineno-20-20"></a>
<a href="#__codelineno-20-21" id="__codelineno-20-21" name="__codelineno-20-21"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
<a href="#__codelineno-20-22" id="__codelineno-20-22" name="__codelineno-20-22"></a>
<a href="#__codelineno-20-23" id="__codelineno-20-23" name="__codelineno-20-23"></a><span class="nx">point</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span><span class="w">       </span><span class="c1">// (3,4,5)</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">WARNING:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">An explicitly defined subclass constructor <em>must</em> call <code>super(..)</code> to run the inherited class's initialization, and that must occur before the subclass constructor makes any references to <code>this</code> or finishes/returns. Otherwise, a runtime exception will be thrown when that subclass constructor is invoked (via <code>new</code>). If you omit the subclass constructor, the default constructor automatically -- thankfully! -- invokes <code>super()</code> for you.</td>
</tr>
</tbody>
</table>
<p>One nuance to be aware of: if you define a field (public or private) inside a subclass, and explicitly define a <code>constructor(..)</code> for this subclass, the field initializations will be processed not at the top of the constructor, but <em>between</em> the <code>super(..)</code> call and any subsequent code in the constructor.</p>
<p>Pay close attention to the order of console messages here:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-21-4" id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-21-5" id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Running Point2d(..) constructor"</span><span class="p">);</span>
<a href="#__codelineno-21-6" id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-21-7" id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-21-8" id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-21-9" id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="p">}</span>
<a href="#__codelineno-21-10" id="__codelineno-21-10" name="__codelineno-21-10"></a>
<a href="#__codelineno-21-11" id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-21-12" id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Initializing field 'z'"</span><span class="p">)</span>
<a href="#__codelineno-21-13" id="__codelineno-21-13" name="__codelineno-21-13"></a>
<a href="#__codelineno-21-14" id="__codelineno-21-14" name="__codelineno-21-14"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-21-15" id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Running Point3d(..) constructor"</span><span class="p">);</span>
<a href="#__codelineno-21-16" id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span>
<a href="#__codelineno-21-17" id="__codelineno-21-17" name="__codelineno-21-17"></a>
<a href="#__codelineno-21-18" id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Setting instance property 'z' to </span><span class="si">${</span><span class="nx">z</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-21-19" id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
<a href="#__codelineno-21-20" id="__codelineno-21-20" name="__codelineno-21-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-21-21" id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-21-22" id="__codelineno-21-22" name="__codelineno-21-22"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
<a href="#__codelineno-21-23" id="__codelineno-21-23" name="__codelineno-21-23"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-21-24" id="__codelineno-21-24" name="__codelineno-21-24"></a><span class="p">}</span>
<a href="#__codelineno-21-25" id="__codelineno-21-25" name="__codelineno-21-25"></a>
<a href="#__codelineno-21-26" id="__codelineno-21-26" name="__codelineno-21-26"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
<a href="#__codelineno-21-27" id="__codelineno-21-27" name="__codelineno-21-27"></a><span class="c1">// Running Point3d(..) constructor</span>
<a href="#__codelineno-21-28" id="__codelineno-21-28" name="__codelineno-21-28"></a><span class="c1">// Running Point2d(..) constructor</span>
<a href="#__codelineno-21-29" id="__codelineno-21-29" name="__codelineno-21-29"></a><span class="c1">// Initializing field 'z'</span>
<a href="#__codelineno-21-30" id="__codelineno-21-30" name="__codelineno-21-30"></a><span class="c1">// Setting instance property 'z' to 5</span>
</code></pre></div>
<p>As the console messages illustrate, the <code>z = ..</code> field initialization happens <em>immediately after</em> the <code>super(x,y)</code> call, <em>before</em> the <code>console.log(`Setting instance...`)</code> is executed. Perhaps think of it like the field initializations attached to the end of the <code>super(..)</code> call, so they run before anything else in the constructor does.</p>
<h4 id="which-class">Which Class?<a class="headerlink" href="#which-class" title="Permanent link">¶</a></h4>
<p>You may need to determine in a constructor if that class is being instantiated directly, or being instantiated from a subclass with a <code>super()</code> call. We can use a special "pseudo property" <code>new.target</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a>
<a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">new</span><span class="p">.</span><span class="nx">target</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Constructing 'Point2d' instance"</span><span class="p">);</span>
<a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-22-8" id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-22-9" id="__codelineno-22-9" name="__codelineno-22-9"></a>
<a href="#__codelineno-22-10" id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-22-11" id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="p">}</span>
<a href="#__codelineno-22-12" id="__codelineno-22-12" name="__codelineno-22-12"></a>
<a href="#__codelineno-22-13" id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-14" id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-22-15" id="__codelineno-22-15" name="__codelineno-22-15"></a>
<a href="#__codelineno-22-16" id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-17" id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span>
<a href="#__codelineno-22-18" id="__codelineno-22-18" name="__codelineno-22-18"></a>
<a href="#__codelineno-22-19" id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">new</span><span class="p">.</span><span class="nx">target</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-20" id="__codelineno-22-20" name="__codelineno-22-20"></a><span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Constructing 'Point3d' instance"</span><span class="p">);</span>
<a href="#__codelineno-22-21" id="__codelineno-22-21" name="__codelineno-22-21"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-22-22" id="__codelineno-22-22" name="__codelineno-22-22"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-22-23" id="__codelineno-22-23" name="__codelineno-22-23"></a>
<a href="#__codelineno-22-24" id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-22-25" id="__codelineno-22-25" name="__codelineno-22-25"></a><span class="p">}</span>
<a href="#__codelineno-22-26" id="__codelineno-22-26" name="__codelineno-22-26"></a>
<a href="#__codelineno-22-27" id="__codelineno-22-27" name="__codelineno-22-27"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-22-28" id="__codelineno-22-28" name="__codelineno-22-28"></a><span class="c1">// Constructing 'Point2d' instance</span>
<a href="#__codelineno-22-29" id="__codelineno-22-29" name="__codelineno-22-29"></a>
<a href="#__codelineno-22-30" id="__codelineno-22-30" name="__codelineno-22-30"></a><span class="kd">var</span><span class="w"> </span><span class="nx">anotherPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
<a href="#__codelineno-22-31" id="__codelineno-22-31" name="__codelineno-22-31"></a><span class="c1">// Constructing 'Point3d' instance</span>
</code></pre></div>
<h3 id="but-which-kind-of-instance">But Which Kind Of Instance?<a class="headerlink" href="#but-which-kind-of-instance" title="Permanent link">¶</a></h3>
<p>You may want to introspect a certain object instance to see if it's an instance of a specific class. We do this with the <code>instanceof</code> operator:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a>
<a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a>
<a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="nx">point</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">;</span><span class="w">           </span><span class="c1">// true</span>
<a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="nx">point</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">;</span><span class="w">           </span><span class="c1">// false</span>
<a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a>
<a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="kd">var</span><span class="w"> </span><span class="nx">anotherPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
<a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a>
<a href="#__codelineno-23-11" id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="nx">anotherPoint</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">;</span><span class="w">    </span><span class="c1">// true</span>
<a href="#__codelineno-23-12" id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="nx">anotherPoint</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">;</span><span class="w">    </span><span class="c1">// true</span>
</code></pre></div>
<p>It may seem strange to see <code>anotherPoint instanceof Point2d</code> result in <code>true</code>. To understand why better, perhaps it's useful to visualize both <code>[[Prototype]]</code> chains:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a>Point2d.prototype
<a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a>        /       \
<a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a>       /         \
<a href="#__codelineno-24-4" id="__codelineno-24-4" name="__codelineno-24-4"></a>      /           \
<a href="#__codelineno-24-5" id="__codelineno-24-5" name="__codelineno-24-5"></a>  point   Point3d.prototype
<a href="#__codelineno-24-6" id="__codelineno-24-6" name="__codelineno-24-6"></a>                    \
<a href="#__codelineno-24-7" id="__codelineno-24-7" name="__codelineno-24-7"></a>                     \
<a href="#__codelineno-24-8" id="__codelineno-24-8" name="__codelineno-24-8"></a>                      \
<a href="#__codelineno-24-9" id="__codelineno-24-9" name="__codelineno-24-9"></a>                    anotherPoint
</code></pre></div>
<p>The <code>instanceof</code> operator doesn't just look at the current object, but rather traverses the entire class inheritance hierarchy (the <code>[[Prototype]]</code> chain) until it finds a match. Thus, <code>anotherPoint</code> is an instance of both <code>Point3d</code> and <code>Point2d</code>.</p>
<p>To illustrate this fact a little more obviously, another (less ergonomic) way of going about the same kind of check as <code>instanceof</code> is with the (inherited from <code>Object.prototype</code>) utility, <code>isPrototypeOf(..)</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">point</span><span class="p">);</span><span class="w">             </span><span class="c1">// true</span>
<a href="#__codelineno-25-2" id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">point</span><span class="p">);</span><span class="w">             </span><span class="c1">// false</span>
<a href="#__codelineno-25-3" id="__codelineno-25-3" name="__codelineno-25-3"></a>
<a href="#__codelineno-25-4" id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">anotherPoint</span><span class="p">);</span><span class="w">      </span><span class="c1">// true</span>
<a href="#__codelineno-25-5" id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">anotherPoint</span><span class="p">);</span><span class="w">      </span><span class="c1">// true</span>
</code></pre></div>
<p>This utility makes it a little clearer why both <code>Point2d.prototype.isPrototypeOf(anotherPoint)</code> and <code>anotherPoint instanceof Point2d</code> result in <code>true</code>: the object <code>Point2d.prototype</code> <em>is</em> in the <code>[[Prototype]]</code> chain of <code>anotherPoint</code>.</p>
<p>If you instead wanted to check if the object instance was <em>only and directly</em> created by a certain class, check the instance's <code>constructor</code> property.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="nx">point</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">;</span><span class="w">          </span><span class="c1">// true</span>
<a href="#__codelineno-26-2" id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="nx">point</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">;</span><span class="w">          </span><span class="c1">// false</span>
<a href="#__codelineno-26-3" id="__codelineno-26-3" name="__codelineno-26-3"></a>
<a href="#__codelineno-26-4" id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="nx">anotherPoint</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">;</span><span class="w">   </span><span class="c1">// false</span>
<a href="#__codelineno-26-5" id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="nx">anotherPoint</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">;</span><span class="w">   </span><span class="c1">// true</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">The <code>constructor</code> property shown here is <em>not</em> actually present on (owned) the <code>point</code> or <code>anotherPoint</code> instance objects. So where does it come from!? It's on each object's <code>[[Prototype]]</code> linked prototype object: <code>Point2d.prototype.constructor === Point2d</code> and <code>Point3d.prototype.constructor === Point3d</code>.</td>
</tr>
</tbody>
</table>
<h3 id="inheritance-is-sharing-not-copying">"Inheritance" Is Sharing, Not Copying<a class="headerlink" href="#inheritance-is-sharing-not-copying" title="Permanent link">¶</a></h3>
<p>It may seem as if <code>Point3d</code>, when it <code>extends</code> the <code>Point2d</code> class, is in essence getting a <em>copy</em> of all the behavior defined in <code>Point2d</code>. Moreover, it may seem as if the concrete object instance <code>anotherPoint</code> receives, <em>copied down</em> to it, all the methods from <code>Point3d</code> (and by extension, also from <code>Point2d</code>).</p>
<p>However, that's not the correct mental model to use for JS's implementation of class-orientation. Recall this base class and subclass definition, as well as instantiation of <code>anotherPoint</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-27-2" id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-27-3" id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-27-4" id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-27-5" id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-27-6" id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-27-7" id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-27-8" id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="p">}</span>
<a href="#__codelineno-27-9" id="__codelineno-27-9" name="__codelineno-27-9"></a>
<a href="#__codelineno-27-10" id="__codelineno-27-10" name="__codelineno-27-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-27-11" id="__codelineno-27-11" name="__codelineno-27-11"></a><span class="w">    </span><span class="nx">z</span>
<a href="#__codelineno-27-12" id="__codelineno-27-12" name="__codelineno-27-12"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-27-13" id="__codelineno-27-13" name="__codelineno-27-13"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span>
<a href="#__codelineno-27-14" id="__codelineno-27-14" name="__codelineno-27-14"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
<a href="#__codelineno-27-15" id="__codelineno-27-15" name="__codelineno-27-15"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-27-16" id="__codelineno-27-16" name="__codelineno-27-16"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-27-17" id="__codelineno-27-17" name="__codelineno-27-17"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
<a href="#__codelineno-27-18" id="__codelineno-27-18" name="__codelineno-27-18"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-27-19" id="__codelineno-27-19" name="__codelineno-27-19"></a><span class="p">}</span>
<a href="#__codelineno-27-20" id="__codelineno-27-20" name="__codelineno-27-20"></a>
<a href="#__codelineno-27-21" id="__codelineno-27-21" name="__codelineno-27-21"></a><span class="kd">var</span><span class="w"> </span><span class="nx">anotherPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
</code></pre></div>
<p>If you inspect the <code>anotherPoint</code> object, you'll see it only has the <code>x</code>, <code>y</code>, and <code>z</code> properties (instance members) on it, but not the <code>toString()</code> method:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-28-1" id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">anotherPoint</span><span class="p">,</span><span class="s2">"x"</span><span class="p">);</span><span class="w">                       </span><span class="c1">// true</span>
<a href="#__codelineno-28-2" id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">anotherPoint</span><span class="p">,</span><span class="s2">"y"</span><span class="p">);</span><span class="w">                       </span><span class="c1">// true</span>
<a href="#__codelineno-28-3" id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">anotherPoint</span><span class="p">,</span><span class="s2">"z"</span><span class="p">);</span><span class="w">                       </span><span class="c1">// true</span>
<a href="#__codelineno-28-4" id="__codelineno-28-4" name="__codelineno-28-4"></a>
<a href="#__codelineno-28-5" id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">anotherPoint</span><span class="p">,</span><span class="s2">"toString"</span><span class="p">);</span><span class="w">                </span><span class="c1">// false</span>
</code></pre></div>
<p>Where is that <code>toString()</code> method located? On the prototype object:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">hasOwn</span><span class="p">(</span><span class="nx">Point3d</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">"toString"</span><span class="p">);</span><span class="w">    </span><span class="c1">// true</span>
</code></pre></div>
<p>And <code>anotherPoint</code> has access to that method via its <code>[[Prototype]]</code> linkage (see Chapter 2). In other words, the prototype objects <strong>share access</strong> to their method(s) with the subclass(es) and instance(s). The method(s) stay in place, and are not copied down the inheritance chain.</p>
<p>As nice as the <code>class</code> syntax is, don't forget what's really happening under the syntax: JS is <em>just</em> wiring up objects to each other along a <code>[[Prototype]]</code> chain.</p>
<h2 id="static-class-behavior">Static Class Behavior<a class="headerlink" href="#static-class-behavior" title="Permanent link">¶</a></h2>
<p>We've so far emphasized two different locations for data or behavior (methods) to reside: on the constructor's prototype, or on the instance. But there's a third option: on the constructor (function object) itself.</p>
<p>In a traditional class-oriented system, methods defined on a class are not concrete things you could ever invoke or interact with. You have to instantiate a class to have a concrete object to invoke those methods with. Prototypal languages like JS blur this line a bit: all class-defined methods are "real" functions residing on the constructor's prototype, and you could therefore invoke them. But as I asserted earlier, you really <em>should not</em> do so, as this is not how JS assumes you will write your <code>class</code>es, and there are some weird corner-case behaviors you may run into. Best to stay on the narrow path that <code>class</code> lays out for you.</p>
<p>Not all behavior that we define and want to associate/organize with a class <em>needs</em> to be aware of an instance. Moreover, sometimes a class needs to publicly define data (like constants) that developers using that class need to access, independent of any instance they may or may not have created.</p>
<p>So, how does a class system enable defining such data and behavior that should be available with a class but independent of (unaware of) instantiated objects? <strong>Static properties and functions</strong>.</p>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">I'll use "static property" / "static function", rather than "member" / "method", just so it's clearer that there's a distinction between instance-bound members / instance-aware methods, and non-instance properties and instance-unaware functions.</td>
</tr>
</tbody>
</table>
<p>We use the <code>static</code> keyword in our <code>class</code> bodies to distinguish these definitions:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-30-1" id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-30-2" id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="w">    </span><span class="c1">// class statics</span>
<a href="#__codelineno-30-3" id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
<a href="#__codelineno-30-4" id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">distance</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span><span class="nx">point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-30-5" id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span>
<a href="#__codelineno-30-6" id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<a href="#__codelineno-30-7" id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span>
<a href="#__codelineno-30-8" id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="w">        </span><span class="p">);</span>
<a href="#__codelineno-30-9" id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-30-10" id="__codelineno-30-10" name="__codelineno-30-10"></a>
<a href="#__codelineno-30-11" id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="w">    </span><span class="c1">// instance members and methods</span>
<a href="#__codelineno-30-12" id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-30-13" id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-30-14" id="__codelineno-30-14" name="__codelineno-30-14"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-30-15" id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-30-16" id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-30-17" id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-30-18" id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-30-19" id="__codelineno-30-19" name="__codelineno-30-19"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">)`</span><span class="p">;</span>
<a href="#__codelineno-30-20" id="__codelineno-30-20" name="__codelineno-30-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-30-21" id="__codelineno-30-21" name="__codelineno-30-21"></a><span class="p">}</span>
<a href="#__codelineno-30-22" id="__codelineno-30-22" name="__codelineno-30-22"></a>
<a href="#__codelineno-30-23" id="__codelineno-30-23" name="__codelineno-30-23"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Starting point: </span><span class="si">${</span><span class="nx">Point2d</span><span class="p">.</span><span class="nx">origin</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-30-24" id="__codelineno-30-24" name="__codelineno-30-24"></a><span class="c1">// Starting point: (0,0)</span>
<a href="#__codelineno-30-25" id="__codelineno-30-25" name="__codelineno-30-25"></a>
<a href="#__codelineno-30-26" id="__codelineno-30-26" name="__codelineno-30-26"></a><span class="kd">var</span><span class="w"> </span><span class="nx">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-30-27" id="__codelineno-30-27" name="__codelineno-30-27"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Next point: </span><span class="si">${</span><span class="nx">next</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-30-28" id="__codelineno-30-28" name="__codelineno-30-28"></a><span class="c1">// Next point: (3,4)</span>
<a href="#__codelineno-30-29" id="__codelineno-30-29" name="__codelineno-30-29"></a>
<a href="#__codelineno-30-30" id="__codelineno-30-30" name="__codelineno-30-30"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Distance: </span><span class="si">${</span>
<a href="#__codelineno-30-31" id="__codelineno-30-31" name="__codelineno-30-31"></a><span class="w">    </span><span class="nx">Point2d</span><span class="p">.</span><span class="nx">distance</span><span class="p">(</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">.</span><span class="nx">origin</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="w"> </span><span class="p">)</span>
<a href="#__codelineno-30-32" id="__codelineno-30-32" name="__codelineno-30-32"></a><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-30-33" id="__codelineno-30-33" name="__codelineno-30-33"></a><span class="c1">// Distance: 5</span>
</code></pre></div>
<p>The <code>Point2d.origin</code> is a static property, which just so happens to hold a constructed instance of our class. And <code>Point2d.distance(..)</code> is a static function that computes the 2-dimensional cartesian distance between two points.</p>
<p>Of course, we could have put these two somewhere other than as <code>static</code>s on the class definition. But since they're directly related to the <code>Point2d</code> class, it makes <em>most sense</em> to organize them there.</p>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Don't forget that when you use the <code>class</code> syntax, the name <code>Point2d</code> is actually the name of a constructor function that JS defines. So <code>Point2d.origin</code> is just a regular property access on that function object. That's what I meant at the top of this section when I referred to a third location for storing <em>things</em> related to classes; in JS, <code>static</code>s are stored as properties on the constructor function. Take care not to confuse those with properties stored on the constructor's <code>prototype</code> (methods) and properties stored on the instance (members).</td>
</tr>
</tbody>
</table>
<h3 id="static-property-initializations">Static Property Initializations<a class="headerlink" href="#static-property-initializations" title="Permanent link">¶</a></h3>
<p>The value in a static initialization (<code>static whatever = ..</code>) can include <code>this</code> references, which refers to the class itself (actually, the constructor) rather than to an instance:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-31-1" id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-31-2" id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="w">    </span><span class="c1">// class statics</span>
<a href="#__codelineno-31-3" id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">originX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<a href="#__codelineno-31-4" id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">originY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<a href="#__codelineno-31-5" id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="k">this</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">originX</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">originY</span><span class="p">)</span>
<a href="#__codelineno-31-6" id="__codelineno-31-6" name="__codelineno-31-6"></a>
<a href="#__codelineno-31-7" id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-31-8" id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">WARNING:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">I don't recommend actually doing the <code>new this(..)</code> trick I've illustrated here. That's just for illustration purposes. The code would read more cleanly with <code>new Point2d(this.originX,this.originY)</code>, so prefer that approach.</td>
</tr>
</tbody>
</table>
<p>An important detail not to gloss over: unlike public field initializations, which only happen once an instantiation (with <code>new</code>) occurs, class static initializations always run <em>immediately</em> after the <code>class</code> has been defined. Moreover, the order of static initializations matters; you can think of the statements as if they're being evaluated one at a time.</p>
<p>Also like class members, static properties do not have to be initialized (default: <code>undefined</code>), but it's much more common to do so. There's not much utility in declaring a static property with no initialized value (<code>static whatever</code>); Accessing either <code>Point2d.whatever</code> or <code>Point2d.nonExistent</code> would both result in <code>undefined</code>.</p>
<p>Recently (in ES2022), the <code>static</code> keyword was extended so it can now define a block inside the <code>class</code> body for more sophisticated initialization of <code>static</code>s:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-32-1" id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-32-2" id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">    </span><span class="c1">// class statics</span>
<a href="#__codelineno-32-3" id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
<a href="#__codelineno-32-4" id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">distance</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span><span class="nx">point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-32-5" id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span>
<a href="#__codelineno-32-6" id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<a href="#__codelineno-32-7" id="__codelineno-32-7" name="__codelineno-32-7"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span>
<a href="#__codelineno-32-8" id="__codelineno-32-8" name="__codelineno-32-8"></a><span class="w">        </span><span class="p">);</span>
<a href="#__codelineno-32-9" id="__codelineno-32-9" name="__codelineno-32-9"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-32-10" id="__codelineno-32-10" name="__codelineno-32-10"></a>
<a href="#__codelineno-32-11" id="__codelineno-32-11" name="__codelineno-32-11"></a><span class="w">    </span><span class="c1">// static initialization block (as of ES2022)</span>
<a href="#__codelineno-32-12" id="__codelineno-32-12" name="__codelineno-32-12"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-32-13" id="__codelineno-32-13" name="__codelineno-32-13"></a><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">outerPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">6</span><span class="p">,</span><span class="mf">8</span><span class="p">);</span>
<a href="#__codelineno-32-14" id="__codelineno-32-14" name="__codelineno-32-14"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">maxDistance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">distance</span><span class="p">(</span>
<a href="#__codelineno-32-15" id="__codelineno-32-15" name="__codelineno-32-15"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">origin</span><span class="p">,</span>
<a href="#__codelineno-32-16" id="__codelineno-32-16" name="__codelineno-32-16"></a><span class="w">            </span><span class="nx">outerPoint</span>
<a href="#__codelineno-32-17" id="__codelineno-32-17" name="__codelineno-32-17"></a><span class="w">        </span><span class="p">);</span>
<a href="#__codelineno-32-18" id="__codelineno-32-18" name="__codelineno-32-18"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-32-19" id="__codelineno-32-19" name="__codelineno-32-19"></a>
<a href="#__codelineno-32-20" id="__codelineno-32-20" name="__codelineno-32-20"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-32-21" id="__codelineno-32-21" name="__codelineno-32-21"></a><span class="p">}</span>
<a href="#__codelineno-32-22" id="__codelineno-32-22" name="__codelineno-32-22"></a>
<a href="#__codelineno-32-23" id="__codelineno-32-23" name="__codelineno-32-23"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">maxDistance</span><span class="p">;</span><span class="w">        </span><span class="c1">// 10</span>
</code></pre></div>
<p>The <code>let outerPoint = ..</code> here is not a special <code>class</code> feature; it's exactly like a normal <code>let</code> declaration in any normal block of scope (see the "Scope &amp; Closures" book of this series). We're merely declaring a localized instance of <code>Point2d</code> assigned to <code>outerPoint</code>, then using that value to derive the assignment to the <code>maxDistance</code> static property.</p>
<p>Static initialization blocks are also useful for things like <code>try..catch</code> statements around expression computations.</p>
<h3 id="static-inheritance">Static Inheritance<a class="headerlink" href="#static-inheritance" title="Permanent link">¶</a></h3>
<p>Class statics are inherited by subclasses (obviously, as statics!), can be overriden, and <code>super</code> can be used for base class references (and static function polymorphism), all in much the same way as inheritance works with instance members/methods:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-33-1" id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-33-2" id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="cm">/* .. */</span>
<a href="#__codelineno-33-3" id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">distance</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-33-4" id="__codelineno-33-4" name="__codelineno-33-4"></a>
<a href="#__codelineno-33-5" id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-33-6" id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">        </span><span class="c1">// ..</span>
<a href="#__codelineno-33-7" id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">maxDistance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="cm">/* .. */</span><span class="p">;</span>
<a href="#__codelineno-33-8" id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-33-9" id="__codelineno-33-9" name="__codelineno-33-9"></a>
<a href="#__codelineno-33-10" id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-33-11" id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="p">}</span>
<a href="#__codelineno-33-12" id="__codelineno-33-12" name="__codelineno-33-12"></a>
<a href="#__codelineno-33-13" id="__codelineno-33-13" name="__codelineno-33-13"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-33-14" id="__codelineno-33-14" name="__codelineno-33-14"></a><span class="w">    </span><span class="c1">// class statics</span>
<a href="#__codelineno-33-15" id="__codelineno-33-15" name="__codelineno-33-15"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span>
<a href="#__codelineno-33-16" id="__codelineno-33-16" name="__codelineno-33-16"></a><span class="w">        </span><span class="c1">// here, `this.origin` references wouldn't</span>
<a href="#__codelineno-33-17" id="__codelineno-33-17" name="__codelineno-33-17"></a><span class="w">        </span><span class="c1">// work (self-referential), so we use</span>
<a href="#__codelineno-33-18" id="__codelineno-33-18" name="__codelineno-33-18"></a><span class="w">        </span><span class="c1">// `super.origin` references instead</span>
<a href="#__codelineno-33-19" id="__codelineno-33-19" name="__codelineno-33-19"></a><span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="k">super</span><span class="p">.</span><span class="nx">origin</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span>
<a href="#__codelineno-33-20" id="__codelineno-33-20" name="__codelineno-33-20"></a><span class="w">    </span><span class="p">)</span>
<a href="#__codelineno-33-21" id="__codelineno-33-21" name="__codelineno-33-21"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">distance</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span><span class="nx">point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-33-22" id="__codelineno-33-22" name="__codelineno-33-22"></a><span class="w">        </span><span class="c1">// here, super.distance(..) is Point2d.distance(..),</span>
<a href="#__codelineno-33-23" id="__codelineno-33-23" name="__codelineno-33-23"></a><span class="w">        </span><span class="c1">// if we needed to invoke it</span>
<a href="#__codelineno-33-24" id="__codelineno-33-24" name="__codelineno-33-24"></a>
<a href="#__codelineno-33-25" id="__codelineno-33-25" name="__codelineno-33-25"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span>
<a href="#__codelineno-33-26" id="__codelineno-33-26" name="__codelineno-33-26"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<a href="#__codelineno-33-27" id="__codelineno-33-27" name="__codelineno-33-27"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<a href="#__codelineno-33-28" id="__codelineno-33-28" name="__codelineno-33-28"></a><span class="w">            </span><span class="p">((</span><span class="nx">point2</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span>
<a href="#__codelineno-33-29" id="__codelineno-33-29" name="__codelineno-33-29"></a><span class="w">        </span><span class="p">);</span>
<a href="#__codelineno-33-30" id="__codelineno-33-30" name="__codelineno-33-30"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-33-31" id="__codelineno-33-31" name="__codelineno-33-31"></a>
<a href="#__codelineno-33-32" id="__codelineno-33-32" name="__codelineno-33-32"></a><span class="w">    </span><span class="c1">// instance members/methods</span>
<a href="#__codelineno-33-33" id="__codelineno-33-33" name="__codelineno-33-33"></a><span class="w">    </span><span class="nx">z</span>
<a href="#__codelineno-33-34" id="__codelineno-33-34" name="__codelineno-33-34"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-33-35" id="__codelineno-33-35" name="__codelineno-33-35"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span><span class="w">     </span><span class="c1">// &lt;-- don't forget this line!</span>
<a href="#__codelineno-33-36" id="__codelineno-33-36" name="__codelineno-33-36"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
<a href="#__codelineno-33-37" id="__codelineno-33-37" name="__codelineno-33-37"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-33-38" id="__codelineno-33-38" name="__codelineno-33-38"></a><span class="w">    </span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-33-39" id="__codelineno-33-39" name="__codelineno-33-39"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="si">}</span><span class="sb">)`</span><span class="p">;</span>
<a href="#__codelineno-33-40" id="__codelineno-33-40" name="__codelineno-33-40"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-33-41" id="__codelineno-33-41" name="__codelineno-33-41"></a><span class="p">}</span>
<a href="#__codelineno-33-42" id="__codelineno-33-42" name="__codelineno-33-42"></a>
<a href="#__codelineno-33-43" id="__codelineno-33-43" name="__codelineno-33-43"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">maxDistance</span><span class="p">;</span><span class="w">        </span><span class="c1">// 10</span>
<a href="#__codelineno-33-44" id="__codelineno-33-44" name="__codelineno-33-44"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">maxDistance</span><span class="p">;</span><span class="w">        </span><span class="c1">// 10</span>
</code></pre></div>
<p>As you can see, the static property <code>maxDistance</code> we defined on <code>Point2d</code> was inherited as a static property on <code>Point3d</code>.</p>
<table>
<thead>
<tr>
<th align="left">TIP:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Remember: any time you define a subclass constructor, you'll need to call <code>super(..)</code> in it, usually as the first statement. I find that all too easy to forget.</td>
</tr>
</tbody>
</table>
<p>Don't skip over the underlying JS behavior here. Just like method inheritance discussed earlier, the static "inheritance" is <em>not</em> a copying of these static properties/functions from base class to subclass; it's sharing via the <code>[[Prototype]]</code> chain. Specifically, the constructor function <code>Point3d()</code> has its <code>[[Prototype]]</code> linkage changed by JS (from the default of <code>Function.prototype</code>) to <code>Point2d</code>, which is what allows <code>Point3d.maxDistance</code> to delegate to <code>Point2d.maxDistance</code>.</p>
<p>It's also interesting, perhaps only historically now, to note that static inheritance -- which was part of the original ES6 <code>class</code> mechanism feature set! -- was one specific feature that went beyond "just syntax sugar". Static inheritance, as we see it illustrated here, was <em>not</em> possible to achieve/emulate in JS prior to ES6, in the old prototypal-class style of code. It's a special new behavior introduced only as of ES6.</p>
<h2 id="private-class-behavior">Private Class Behavior<a class="headerlink" href="#private-class-behavior" title="Permanent link">¶</a></h2>
<p>Everything we've discussed so far as part of a <code>class</code> definition is publicly visible/accessible, either as static properties/functions on the class, methods on the constructor's <code>prototype</code>, or member properties on the instance.</p>
<p>But how do you store information that cannot be seen from outside the class? This was one of the most asked for features, and biggest complaints with JS's <code>class</code>, up until it was finally addressed in ES2022.</p>
<p><code>class</code> now supports new syntax for declaring private fields (instance members) and private methods. In addition, private static properties/functions are possible.</p>
<h3 id="motivation">Motivation?<a class="headerlink" href="#motivation" title="Permanent link">¶</a></h3>
<p>Before we illustrate how to do <code>class</code> privates, it bears contemplating why this is a helpful feature?</p>
<p>With closure-oriented design patterns (again, see the "Scope &amp; Closures" book of this series), we automatically get "privacy" built-in. When you declare a variable inside a scope, it cannot be seen outside that scope. Period. Reducing the scope visibility of a declaration is helpful in preventing namespace collisions (identical variable names).</p>
<p>But it's even more important to ensure proper "defensive" design of software, the so called "Principle of Least Privilege" <sup id="fnref:POLP"><a class="footnote-ref" href="#fn:POLP">1</a></sup>. POLP states that we should only expose a piece of information or capability in our software to the smallest surface area necessary.</p>
<p>Over-exposure opens our software up to several issues that complicate software security/maintenance, including another piece of code acting maliciously to do something our code didn't expect or intend. Moreover, there's the less critical but still as problematic concern of other parts of our software relying on (using) parts of our code that we should have reserved as hidden implementation detail. Once other code relies on our code's implementation details, we stop being able to refactor our code without potentially breaking other parts of the program.</p>
<p>So, in short, we <em>should</em> hide implementation details if they're not necessary to be exposed. In this sense, JS's <code>class</code> system feels a bit too permissive in that everything defaults to being public. Class-private features are a welcomed addition to more proper software design.</p>
<h4 id="too-private">Too Private?<a class="headerlink" href="#too-private" title="Permanent link">¶</a></h4>
<p>All that said, I have to throw a bit of a damper on the class-private party.</p>
<p>I've suggested strongly that you should only use <code>class</code> if you're going to really take advantage of most or all of what class-orientation gives you. Otherwise, you'd be better suited using other core pillar features of JS for organizing code, such as with the closure pattern.</p>
<p>One of the most important aspects of class-orientation is subclass inheritance, as we've seen illustrated numerous times so far in this chapter. Guess what happens to a private member/method in a base class, when it's extended by a subclass?</p>
<p>Private members/methods are private <strong>only to the class they're defined in</strong>, and are <strong>not</strong> inherited in any way by a subclass. Uh oh.</p>
<p>That might not seem like too big of a concern, until you start working with <code>class</code> and private members/methods in real software. You might quickly run up against a situation where you need to access a private method, or more often even, just a private member, from the subclass, so that the subclass can extend/augment the behavior of the base class as desired. And you might scream in frustration pretty quickly once you realize this is not possible.</p>
<p>What comes next is inevitably an awkward decision: do you just go back to making it public, so the subclass can access it? Ugh. Or, worse, do you try to re-design the base class to contort the design of its members/methods, such that the lack of access is partially worked around. That often involves exhausting over-parameterization (with privates as default parameter values) of methods, and other such tricks. Double ugh.</p>
<p>There's not a particularly great answer here, to be honest. If you have experience with class-orientation in more traditional class languages like Java or C++, you're probably dubious as to why we don't have <em>protected</em> visibility in between <em>public</em> and <em>private</em>. That's exactly what <em>protected</em> is for: keeping something private to a class AND any of its subclasses. Those languages also have <em>friend</em> features, but that's beyond the scope of our discussion here.</p>
<p>Sadly, not only does JS not have <em>protected</em> visibility, it seems (even as useful as it is!) to be unlikely as a JS feature. It's been discussed in great detail for over a decade (before ES6 was even a thing), and there've been multiple proposals for it.</p>
<p>I shouldn't say it will <em>never</em> happen, because that's not solid ground to stake on in any software. But it's very unlikely, because it actually betrays the very pillar that <code>class</code> is built on. If you are curious, or (more likely) certain that there's just <em>got to be a way</em>, I'll cover the incompatibility of <em>protected</em> visibility within JS's mechanisms in an appendix.</p>
<p>The point here is, as of now, JS has no <em>protected</em> visibility, and it won't any time soon. And <em>protected</em> visibility is actually, in practice, way more useful than <em>private</em> visibility.</p>
<p>So we return to the question: <strong>Why should you care to make any <code>class</code> contents private?</strong></p>
<p>If I'm being honest: maybe you shouldn't. Or maybe you should. That's up to you. Just go into it aware of the stumbling blocks.</p>
<h3 id="private-membersmethods">Private Members/Methods<a class="headerlink" href="#private-membersmethods" title="Permanent link">¶</a></h3>
<p>You're excited to finally see the syntax for magical <em>private</em> visibility, right? Please don't shoot the messenger if you feel angered or sad at what you're about to see.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-34-1" id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-34-2" id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="w">    </span><span class="c1">// statics</span>
<a href="#__codelineno-34-3" id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span><span class="nx">point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-34-4" id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">point2</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">;</span>
<a href="#__codelineno-34-5" id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-34-6" id="__codelineno-34-6" name="__codelineno-34-6"></a>
<a href="#__codelineno-34-7" id="__codelineno-34-7" name="__codelineno-34-7"></a><span class="w">    </span><span class="c1">// privates</span>
<a href="#__codelineno-34-8" id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="w">    </span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-34-9" id="__codelineno-34-9" name="__codelineno-34-9"></a><span class="w">    </span><span class="err">#</span><span class="nx">assignID</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-34-10" id="__codelineno-34-10" name="__codelineno-34-10"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1e9</span><span class="p">);</span>
<a href="#__codelineno-34-11" id="__codelineno-34-11" name="__codelineno-34-11"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-34-12" id="__codelineno-34-12" name="__codelineno-34-12"></a>
<a href="#__codelineno-34-13" id="__codelineno-34-13" name="__codelineno-34-13"></a><span class="w">    </span><span class="c1">// publics</span>
<a href="#__codelineno-34-14" id="__codelineno-34-14" name="__codelineno-34-14"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-34-15" id="__codelineno-34-15" name="__codelineno-34-15"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-34-16" id="__codelineno-34-16" name="__codelineno-34-16"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-34-17" id="__codelineno-34-17" name="__codelineno-34-17"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">assignID</span><span class="p">();</span>
<a href="#__codelineno-34-18" id="__codelineno-34-18" name="__codelineno-34-18"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-34-19" id="__codelineno-34-19" name="__codelineno-34-19"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-34-20" id="__codelineno-34-20" name="__codelineno-34-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-34-21" id="__codelineno-34-21" name="__codelineno-34-21"></a><span class="p">}</span>
<a href="#__codelineno-34-22" id="__codelineno-34-22" name="__codelineno-34-22"></a>
<a href="#__codelineno-34-23" id="__codelineno-34-23" name="__codelineno-34-23"></a><span class="kd">var</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-34-24" id="__codelineno-34-24" name="__codelineno-34-24"></a><span class="kd">var</span><span class="w"> </span><span class="nx">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-34-25" id="__codelineno-34-25" name="__codelineno-34-25"></a>
<a href="#__codelineno-34-26" id="__codelineno-34-26" name="__codelineno-34-26"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">one</span><span class="p">,</span><span class="nx">two</span><span class="p">);</span><span class="w">         </span><span class="c1">// false</span>
<a href="#__codelineno-34-27" id="__codelineno-34-27" name="__codelineno-34-27"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">one</span><span class="p">,</span><span class="nx">one</span><span class="p">);</span><span class="w">         </span><span class="c1">// true</span>
</code></pre></div>
<p>No, JS didn't do the sensible thing and introduce a <code>private</code> keyword like they did with <code>static</code>. Instead, they introduced the <code>#</code>. (insert lame joke about social-media millienials loving hashtags, or something)</p>
<table>
<thead>
<tr>
<th align="left">TIP:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">And yes, there's a million and one discussions about why not. I could spend chapters recounting the whole history, but honestly I just don't care to. I think this syntax is ugly, and many others do, too. And some love it! If you're in the latter camp, though I rarely do something like this, I'm just going to say: <strong>just accept it</strong>. It's too late for any more debate or pleading.</td>
</tr>
</tbody>
</table>
<p>The <code>#whatever</code> syntax (including <code>this.#whatever</code> form) is only valid inside <code>class</code> bodies. It will throw syntax errors if used outside of a <code>class</code>.</p>
<p>Unlike public fields/instance members, private fields/instance members <em>must</em> be declared in the <code>class</code> body. You cannot add a private member to a class declaration dynamically while in the constructor method; <code>this.#whatever = ..</code> type assignments only work if the <code>#whatever</code> private field is declared in the class body. Moreover, though private fields can be re-assigned, they cannot be <code>delete</code>d from an instance, the way a public field/class member can.</p>
<h4 id="subclassing-privates">Subclassing + Privates<a class="headerlink" href="#subclassing-privates" title="Permanent link">¶</a></h4>
<p>I warned earlier that subclassing with classes that have private members/methods can be a limiting trap. But that doesn't mean they cannot be used together.</p>
<p>Because "inheritance" in JS is sharing (through the <code>[[Prototype]]</code> chain), if you invoke an inherited method in a subclass, and that inherited method in turn accesses/invokes privates in its host (base) class, this works fine:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-35-1" id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-35-2" id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a href="#__codelineno-35-3" id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-35-4" id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">    </span><span class="nx">z</span>
<a href="#__codelineno-35-5" id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-35-6" id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span>
<a href="#__codelineno-35-7" id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
<a href="#__codelineno-35-8" id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-35-9" id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="p">}</span>
<a href="#__codelineno-35-10" id="__codelineno-35-10" name="__codelineno-35-10"></a>
<a href="#__codelineno-35-11" id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="kd">var</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
</code></pre></div>
<p>The <code>super(x,y)</code> call in this constructor invokes the inherited base class constructor (<code>Point2d(..)</code>), which itself accesses <code>Point2d</code>'s private method <code>#assignID()</code> (see the earlier snippet). No exception is thrown, even though <code>Point3d</code> cannot directly see or access the <code>#ID</code> / <code>#assignID()</code> privates that are indeed stored on the instance (named <code>one</code> here).</p>
<p>In fact, even the inherited <code>static samePoint(..)</code> function will work from either <code>Point3d</code> or <code>Point2d</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-36-1" id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">one</span><span class="p">,</span><span class="nx">one</span><span class="p">);</span><span class="w">         </span><span class="c1">// true</span>
<a href="#__codelineno-36-2" id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">one</span><span class="p">,</span><span class="nx">one</span><span class="p">);</span><span class="w">         </span><span class="c1">// true</span>
</code></pre></div>
<p>Actually, that shouldn't be that suprising, since:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-37-1" id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">samePoint</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">;</span>
</code></pre></div>
<p>The inherited function reference is <em>the exact same function</em> as the base function reference; it's not some copy of the function. Because the function in question has no <code>this</code> reference in it, no matter from where it's invoked, it should produce the same outcome.</p>
<p>It's still a shame though that <code>Point3d</code> has no way to access/influence, or indeed even knowledge of, the <code>#ID</code> / <code>#assignID()</code> privates from <code>Point2d</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-38-1" id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* .. */</span><span class="w"> </span><span class="p">}</span>
<a href="#__codelineno-38-2" id="__codelineno-38-2" name="__codelineno-38-2"></a>
<a href="#__codelineno-38-3" id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-38-4" id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="w">    </span><span class="nx">z</span>
<a href="#__codelineno-38-5" id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-38-6" id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span>
<a href="#__codelineno-38-7" id="__codelineno-38-7" name="__codelineno-38-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
<a href="#__codelineno-38-8" id="__codelineno-38-8" name="__codelineno-38-8"></a>
<a href="#__codelineno-38-9" id="__codelineno-38-9" name="__codelineno-38-9"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">);</span><span class="w">      </span><span class="c1">// will throw!</span>
<a href="#__codelineno-38-10" id="__codelineno-38-10" name="__codelineno-38-10"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-38-11" id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">WARNING:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Notice that this snippet throws an early static syntax error at the time of defining the <code>Point3d</code> class, before ever even getting a chance to create an instance of the class. The same exception would be thrown if the reference was <code>super.#ID</code> instead of <code>this.#ID</code>.</td>
</tr>
</tbody>
</table>
<h4 id="existence-check">Existence Check<a class="headerlink" href="#existence-check" title="Permanent link">¶</a></h4>
<p>Keep in mind that only the <code>class</code> itself knows about, and can therefore check for, such a private field/method.</p>
<p>You may want to check to see if a private field/method exists on an object instance. For example (as shown below), you may have a static function or method in a class, which receives an external object reference passed in. To check to see if the passed-in object reference is of this same class (and therefore has the same private members/methods in it), you basically need to do a "brand check" against the object.</p>
<p>Such a check could be rather convoluted, because if you access a private field that doesn't already exist on the object, you get a JS exception thrown, requiring ugly <code>try..catch</code> logic.</p>
<p>But there's a cleaner approach, so called an "ergonomic brand check", using the <code>in</code> keyword:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-39-1" id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-39-2" id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">    </span><span class="c1">// statics</span>
<a href="#__codelineno-39-3" id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">point1</span><span class="p">,</span><span class="nx">point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-39-4" id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">        </span><span class="c1">// "ergonomic brand checks"</span>
<a href="#__codelineno-39-5" id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">point1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">point2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-39-6" id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">point1</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">point2</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">;</span>
<a href="#__codelineno-39-7" id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-39-8" id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a href="#__codelineno-39-9" id="__codelineno-39-9" name="__codelineno-39-9"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-39-10" id="__codelineno-39-10" name="__codelineno-39-10"></a>
<a href="#__codelineno-39-11" id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="w">    </span><span class="c1">// privates</span>
<a href="#__codelineno-39-12" id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="w">    </span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-39-13" id="__codelineno-39-13" name="__codelineno-39-13"></a><span class="w">    </span><span class="err">#</span><span class="nx">assignID</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-39-14" id="__codelineno-39-14" name="__codelineno-39-14"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1e9</span><span class="p">);</span>
<a href="#__codelineno-39-15" id="__codelineno-39-15" name="__codelineno-39-15"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-39-16" id="__codelineno-39-16" name="__codelineno-39-16"></a>
<a href="#__codelineno-39-17" id="__codelineno-39-17" name="__codelineno-39-17"></a><span class="w">    </span><span class="c1">// publics</span>
<a href="#__codelineno-39-18" id="__codelineno-39-18" name="__codelineno-39-18"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-39-19" id="__codelineno-39-19" name="__codelineno-39-19"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-39-20" id="__codelineno-39-20" name="__codelineno-39-20"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-39-21" id="__codelineno-39-21" name="__codelineno-39-21"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">assignID</span><span class="p">();</span>
<a href="#__codelineno-39-22" id="__codelineno-39-22" name="__codelineno-39-22"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-39-23" id="__codelineno-39-23" name="__codelineno-39-23"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-39-24" id="__codelineno-39-24" name="__codelineno-39-24"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-39-25" id="__codelineno-39-25" name="__codelineno-39-25"></a><span class="p">}</span>
<a href="#__codelineno-39-26" id="__codelineno-39-26" name="__codelineno-39-26"></a>
<a href="#__codelineno-39-27" id="__codelineno-39-27" name="__codelineno-39-27"></a><span class="kd">var</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-39-28" id="__codelineno-39-28" name="__codelineno-39-28"></a><span class="kd">var</span><span class="w"> </span><span class="nx">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-39-29" id="__codelineno-39-29" name="__codelineno-39-29"></a>
<a href="#__codelineno-39-30" id="__codelineno-39-30" name="__codelineno-39-30"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">one</span><span class="p">,</span><span class="nx">two</span><span class="p">);</span><span class="w">         </span><span class="c1">// false</span>
<a href="#__codelineno-39-31" id="__codelineno-39-31" name="__codelineno-39-31"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">samePoint</span><span class="p">(</span><span class="nx">one</span><span class="p">,</span><span class="nx">one</span><span class="p">);</span><span class="w">         </span><span class="c1">// true</span>
</code></pre></div>
<p>The <code>#privateField in someObject</code> check will not throw an exception if the field isn't found, so it's safe to use without <code>try..catch</code> and use its simple boolean result.</p>
<h4 id="exfiltration">Exfiltration<a class="headerlink" href="#exfiltration" title="Permanent link">¶</a></h4>
<p>Even though a member/method may be declared with <em>private</em> visibility, it can still be exfiltrated (extracted) from a class instance:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-40-1" id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">func</span><span class="p">;</span>
<a href="#__codelineno-40-2" id="__codelineno-40-2" name="__codelineno-40-2"></a>
<a href="#__codelineno-40-3" id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-40-4" id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="w">    </span><span class="c1">// privates</span>
<a href="#__codelineno-40-5" id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="w">    </span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-40-6" id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">    </span><span class="err">#</span><span class="nx">assignID</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-40-7" id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1e9</span><span class="p">);</span>
<a href="#__codelineno-40-8" id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-40-9" id="__codelineno-40-9" name="__codelineno-40-9"></a>
<a href="#__codelineno-40-10" id="__codelineno-40-10" name="__codelineno-40-10"></a><span class="w">    </span><span class="c1">// publics</span>
<a href="#__codelineno-40-11" id="__codelineno-40-11" name="__codelineno-40-11"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-40-12" id="__codelineno-40-12" name="__codelineno-40-12"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-40-13" id="__codelineno-40-13" name="__codelineno-40-13"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-40-14" id="__codelineno-40-14" name="__codelineno-40-14"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">assignID</span><span class="p">();</span>
<a href="#__codelineno-40-15" id="__codelineno-40-15" name="__codelineno-40-15"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-40-16" id="__codelineno-40-16" name="__codelineno-40-16"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-40-17" id="__codelineno-40-17" name="__codelineno-40-17"></a>
<a href="#__codelineno-40-18" id="__codelineno-40-18" name="__codelineno-40-18"></a><span class="w">        </span><span class="c1">// exfiltration</span>
<a href="#__codelineno-40-19" id="__codelineno-40-19" name="__codelineno-40-19"></a><span class="w">        </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">;</span>
<a href="#__codelineno-40-20" id="__codelineno-40-20" name="__codelineno-40-20"></a><span class="w">        </span><span class="nx">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">assignID</span><span class="p">;</span>
<a href="#__codelineno-40-21" id="__codelineno-40-21" name="__codelineno-40-21"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-40-22" id="__codelineno-40-22" name="__codelineno-40-22"></a><span class="p">}</span>
<a href="#__codelineno-40-23" id="__codelineno-40-23" name="__codelineno-40-23"></a>
<a href="#__codelineno-40-24" id="__codelineno-40-24" name="__codelineno-40-24"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<a href="#__codelineno-40-25" id="__codelineno-40-25" name="__codelineno-40-25"></a>
<a href="#__codelineno-40-26" id="__codelineno-40-26" name="__codelineno-40-26"></a><span class="nx">id</span><span class="p">;</span><span class="w">                     </span><span class="c1">// 7392851012 (...for example)</span>
<a href="#__codelineno-40-27" id="__codelineno-40-27" name="__codelineno-40-27"></a>
<a href="#__codelineno-40-28" id="__codelineno-40-28" name="__codelineno-40-28"></a><span class="nx">func</span><span class="p">;</span><span class="w">                   </span><span class="c1">// function #assignID() { .. }</span>
<a href="#__codelineno-40-29" id="__codelineno-40-29" name="__codelineno-40-29"></a><span class="nx">func</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">point</span><span class="p">,</span><span class="mf">42</span><span class="p">);</span>
<a href="#__codelineno-40-30" id="__codelineno-40-30" name="__codelineno-40-30"></a>
<a href="#__codelineno-40-31" id="__codelineno-40-31" name="__codelineno-40-31"></a><span class="nx">func</span><span class="p">.</span><span class="nx">call</span><span class="p">({},</span><span class="mf">100</span><span class="p">);</span>
<a href="#__codelineno-40-32" id="__codelineno-40-32" name="__codelineno-40-32"></a><span class="c1">// TypeError: Cannot write private member #ID to an</span>
<a href="#__codelineno-40-33" id="__codelineno-40-33" name="__codelineno-40-33"></a><span class="c1">// object whose class did not declare it</span>
</code></pre></div>
<p>The main concern here is to be careful when passing private methods as callbacks (or in any way exposing privates to other parts of the program). There's nothing stopping you from doing so, which can create a bit of an unintended privacy disclosure.</p>
<h3 id="private-statics">Private Statics<a class="headerlink" href="#private-statics" title="Permanent link">¶</a></h3>
<p>Static properties and functions can also use <code>#</code> to be marked as private:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-41-1" id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-41-2" id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">errorMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Out of bounds."</span>
<a href="#__codelineno-41-3" id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">printError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-41-4" id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error: </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">errorMsg</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-41-5" id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-41-6" id="__codelineno-41-6" name="__codelineno-41-6"></a>
<a href="#__codelineno-41-7" id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="w">    </span><span class="c1">// publics</span>
<a href="#__codelineno-41-8" id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="w">    </span><span class="nx">x</span>
<a href="#__codelineno-41-9" id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="w">    </span><span class="nx">y</span>
<a href="#__codelineno-41-10" id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-41-11" id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-41-12" id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="w">            </span><span class="nx">Point2d</span><span class="p">.</span><span class="err">#</span><span class="nx">printError</span><span class="p">();</span>
<a href="#__codelineno-41-13" id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-41-14" id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<a href="#__codelineno-41-15" id="__codelineno-41-15" name="__codelineno-41-15"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a href="#__codelineno-41-16" id="__codelineno-41-16" name="__codelineno-41-16"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-41-17" id="__codelineno-41-17" name="__codelineno-41-17"></a><span class="p">}</span>
<a href="#__codelineno-41-18" id="__codelineno-41-18" name="__codelineno-41-18"></a>
<a href="#__codelineno-41-19" id="__codelineno-41-19" name="__codelineno-41-19"></a><span class="kd">var</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">(</span><span class="mf">30</span><span class="p">,</span><span class="mf">400</span><span class="p">);</span>
<a href="#__codelineno-41-20" id="__codelineno-41-20" name="__codelineno-41-20"></a><span class="c1">// Error: Out of bounds.</span>
</code></pre></div>
<p>The <code>#printError()</code> static private function here has a <code>this</code>, but that's referencing the <code>Point2d</code> class, not an instance. As such, the <code>#errorMsg</code> and <code>#printError()</code> are independent of instances and thus are best as statics. Moreover, there's no reason for them to be accessible outside the class, so they're marked private.</p>
<p>Remember: private statics are similarly not-inherited by subclasses just as private members/methods are not.</p>
<h4 id="gotcha-subclassing-with-static-privates-and-this">Gotcha: Subclassing With Static Privates and <code>this</code><a class="headerlink" href="#gotcha-subclassing-with-static-privates-and-this" title="Permanent link">¶</a></h4>
<p>Recall that inherited methods, invoked from a subclass, have no trouble accessing (via <code>this.#whatever</code> style references) any privates from their own base class:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-42-1" id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-42-2" id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-42-3" id="__codelineno-42-3" name="__codelineno-42-3"></a>
<a href="#__codelineno-42-4" id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="w">    </span><span class="nx">getID</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-42-5" id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">;</span>
<a href="#__codelineno-42-6" id="__codelineno-42-6" name="__codelineno-42-6"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-42-7" id="__codelineno-42-7" name="__codelineno-42-7"></a>
<a href="#__codelineno-42-8" id="__codelineno-42-8" name="__codelineno-42-8"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-42-9" id="__codelineno-42-9" name="__codelineno-42-9"></a><span class="p">}</span>
<a href="#__codelineno-42-10" id="__codelineno-42-10" name="__codelineno-42-10"></a>
<a href="#__codelineno-42-11" id="__codelineno-42-11" name="__codelineno-42-11"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-42-12" id="__codelineno-42-12" name="__codelineno-42-12"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-42-13" id="__codelineno-42-13" name="__codelineno-42-13"></a>
<a href="#__codelineno-42-14" id="__codelineno-42-14" name="__codelineno-42-14"></a><span class="w">    </span><span class="nx">printID</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-42-15" id="__codelineno-42-15" name="__codelineno-42-15"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`ID: </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getID</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-42-16" id="__codelineno-42-16" name="__codelineno-42-16"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-42-17" id="__codelineno-42-17" name="__codelineno-42-17"></a><span class="p">}</span>
<a href="#__codelineno-42-18" id="__codelineno-42-18" name="__codelineno-42-18"></a>
<a href="#__codelineno-42-19" id="__codelineno-42-19" name="__codelineno-42-19"></a><span class="kd">var</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Point3d</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
<a href="#__codelineno-42-20" id="__codelineno-42-20" name="__codelineno-42-20"></a><span class="nx">point</span><span class="p">.</span><span class="nx">printID</span><span class="p">();</span>
<a href="#__codelineno-42-21" id="__codelineno-42-21" name="__codelineno-42-21"></a><span class="c1">// ID: ..</span>
</code></pre></div>
<p>That works just fine.</p>
<p>Unfortunately, and (to me) quite unexpectedly/inconsistently, the same is not true of private statics accessed from inherited public static functions:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-43-1" id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-43-2" id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">errorMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Out of bounds."</span>
<a href="#__codelineno-43-3" id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">printError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-43-4" id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error: </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">errorMsg</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-43-5" id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-43-6" id="__codelineno-43-6" name="__codelineno-43-6"></a>
<a href="#__codelineno-43-7" id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-43-8" id="__codelineno-43-8" name="__codelineno-43-8"></a><span class="p">}</span>
<a href="#__codelineno-43-9" id="__codelineno-43-9" name="__codelineno-43-9"></a>
<a href="#__codelineno-43-10" id="__codelineno-43-10" name="__codelineno-43-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-43-11" id="__codelineno-43-11" name="__codelineno-43-11"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-43-12" id="__codelineno-43-12" name="__codelineno-43-12"></a><span class="p">}</span>
<a href="#__codelineno-43-13" id="__codelineno-43-13" name="__codelineno-43-13"></a>
<a href="#__codelineno-43-14" id="__codelineno-43-14" name="__codelineno-43-14"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">printError</span><span class="p">();</span>
<a href="#__codelineno-43-15" id="__codelineno-43-15" name="__codelineno-43-15"></a><span class="c1">// Error: Out of bounds.</span>
<a href="#__codelineno-43-16" id="__codelineno-43-16" name="__codelineno-43-16"></a>
<a href="#__codelineno-43-17" id="__codelineno-43-17" name="__codelineno-43-17"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">printError</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Point2d</span><span class="p">.</span><span class="nx">printError</span><span class="p">;</span>
<a href="#__codelineno-43-18" id="__codelineno-43-18" name="__codelineno-43-18"></a><span class="c1">// true</span>
<a href="#__codelineno-43-19" id="__codelineno-43-19" name="__codelineno-43-19"></a>
<a href="#__codelineno-43-20" id="__codelineno-43-20" name="__codelineno-43-20"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">printError</span><span class="p">();</span>
<a href="#__codelineno-43-21" id="__codelineno-43-21" name="__codelineno-43-21"></a><span class="c1">// TypeError: Cannot read private member #errorMsg</span>
<a href="#__codelineno-43-22" id="__codelineno-43-22" name="__codelineno-43-22"></a><span class="c1">// from an object whose class did not declare it</span>
</code></pre></div>
<p>The <code>printError()</code> static is inherited (shared via <code>[[Prototype]]</code>) from <code>Point2d</code> to <code>Point3d</code> just fine, which is why the function references are identical. Like the non-static snippet just above, you might have expected the <code>Point3d.printError()</code> static invocation to resolve via the <code>[[Prototype]]</code> chain to its original base class (<code>Point2d</code>) location, thereby letting it access the base class's <code>#errorMsg</code> static private.</p>
<p>But it fails, as shown by the last statement in that snippet. The reason it fails here, but not with the previous snippet, is a convoluted brain twister. I'm not going to dig into the <em>why</em> explanation here, frankly because it boils my blood to do so.</p>
<p>There's a <em>fix</em>, though. In the static function, instead of <code>this.#errorMsg</code>, swap that for <code>Point2d.#errorMsg</code>, and now it works:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-44-1" id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-44-2" id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">errorMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Out of bounds."</span>
<a href="#__codelineno-44-3" id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">printError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-44-4" id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="w">        </span><span class="c1">// the fixed reference vvvvvv</span>
<a href="#__codelineno-44-5" id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Error: </span><span class="si">${</span><span class="nx">Point2d</span><span class="p">.</span><span class="err">#</span><span class="nx">errorMsg</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-44-6" id="__codelineno-44-6" name="__codelineno-44-6"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-44-7" id="__codelineno-44-7" name="__codelineno-44-7"></a>
<a href="#__codelineno-44-8" id="__codelineno-44-8" name="__codelineno-44-8"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-44-9" id="__codelineno-44-9" name="__codelineno-44-9"></a><span class="p">}</span>
<a href="#__codelineno-44-10" id="__codelineno-44-10" name="__codelineno-44-10"></a>
<a href="#__codelineno-44-11" id="__codelineno-44-11" name="__codelineno-44-11"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Point3d</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Point2d</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-44-12" id="__codelineno-44-12" name="__codelineno-44-12"></a><span class="w">    </span><span class="c1">// ..</span>
<a href="#__codelineno-44-13" id="__codelineno-44-13" name="__codelineno-44-13"></a><span class="p">}</span>
<a href="#__codelineno-44-14" id="__codelineno-44-14" name="__codelineno-44-14"></a>
<a href="#__codelineno-44-15" id="__codelineno-44-15" name="__codelineno-44-15"></a><span class="nx">Point2d</span><span class="p">.</span><span class="nx">printError</span><span class="p">();</span>
<a href="#__codelineno-44-16" id="__codelineno-44-16" name="__codelineno-44-16"></a><span class="c1">// Error: Out of bounds.</span>
<a href="#__codelineno-44-17" id="__codelineno-44-17" name="__codelineno-44-17"></a>
<a href="#__codelineno-44-18" id="__codelineno-44-18" name="__codelineno-44-18"></a><span class="nx">Point3d</span><span class="p">.</span><span class="nx">printError</span><span class="p">();</span>
<a href="#__codelineno-44-19" id="__codelineno-44-19" name="__codelineno-44-19"></a><span class="c1">// Error: Out of bounds.  &lt;-- phew, it works now!</span>
</code></pre></div>
<p>If public static functions are being inherited, use the class name to access any private statics instead of using <code>this.</code> references. Beware that gotcha!</p>
<h2 id="class-example">Class Example<a class="headerlink" href="#class-example" title="Permanent link">¶</a></h2>
<p>OK, we've laid out a bunch of disparate class features. I want to wrap up this chapter by trying to illustrate a sampling of these capabilities in a single example that's a little less basic/contrived.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-45-1" id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="kd">class</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-2" id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">UNSET</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Symbol</span><span class="p">(</span><span class="s2">"unset"</span><span class="p">)</span>
<a href="#__codelineno-45-3" id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">isUnset</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-4" id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">UNSET</span><span class="p">;</span>
<a href="#__codelineno-45-5" id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-6" id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="err">#</span><span class="nx">error</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-7" id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">[</span><span class="sb">`ERROR_</span><span class="si">${</span><span class="nx">num</span><span class="si">}</span><span class="sb">`</span><span class="p">];</span>
<a href="#__codelineno-45-8" id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-9" id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-10" id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="p">[</span><span class="nx">idx</span><span class="p">,</span><span class="nx">msg</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">[</span>
<a href="#__codelineno-45-11" id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="w">            </span><span class="s2">"ID is already set."</span><span class="p">,</span>
<a href="#__codelineno-45-12" id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="w">            </span><span class="s2">"ID is unset."</span><span class="p">,</span>
<a href="#__codelineno-45-13" id="__codelineno-45-13" name="__codelineno-45-13"></a><span class="w">            </span><span class="s2">"Don't instantiate 'CalendarItem' directly."</span><span class="p">,</span>
<a href="#__codelineno-45-14" id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="w">        </span><span class="p">].</span><span class="nx">entries</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-15" id="__codelineno-45-15" name="__codelineno-45-15"></a><span class="w">            </span><span class="k">this</span><span class="p">[</span><span class="sb">`ERROR_</span><span class="si">${</span><span class="p">(</span><span class="nx">idx</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span><span class="o">*</span><span class="mf">100</span><span class="si">}</span><span class="sb">`</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">msg</span><span class="p">;</span>
<a href="#__codelineno-45-16" id="__codelineno-45-16" name="__codelineno-45-16"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-17" id="__codelineno-45-17" name="__codelineno-45-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-18" id="__codelineno-45-18" name="__codelineno-45-18"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nx">isSameItem</span><span class="p">(</span><span class="nx">item1</span><span class="p">,</span><span class="nx">item2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-19" id="__codelineno-45-19" name="__codelineno-45-19"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">item1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">item2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-20" id="__codelineno-45-20" name="__codelineno-45-20"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">item1</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">item2</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">;</span>
<a href="#__codelineno-45-21" id="__codelineno-45-21" name="__codelineno-45-21"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-22" id="__codelineno-45-22" name="__codelineno-45-22"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-23" id="__codelineno-45-23" name="__codelineno-45-23"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a href="#__codelineno-45-24" id="__codelineno-45-24" name="__codelineno-45-24"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-25" id="__codelineno-45-25" name="__codelineno-45-25"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-26" id="__codelineno-45-26" name="__codelineno-45-26"></a>
<a href="#__codelineno-45-27" id="__codelineno-45-27" name="__codelineno-45-27"></a><span class="w">    </span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="p">.</span><span class="err">#</span><span class="nx">UNSET</span>
<a href="#__codelineno-45-28" id="__codelineno-45-28" name="__codelineno-45-28"></a><span class="w">    </span><span class="err">#</span><span class="nx">setID</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-29" id="__codelineno-45-29" name="__codelineno-45-29"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">CalendarItem</span><span class="p">.</span><span class="err">#</span><span class="nx">isUnset</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-30" id="__codelineno-45-30" name="__codelineno-45-30"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">id</span><span class="p">;</span>
<a href="#__codelineno-45-31" id="__codelineno-45-31" name="__codelineno-45-31"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-32" id="__codelineno-45-32" name="__codelineno-45-32"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-33" id="__codelineno-45-33" name="__codelineno-45-33"></a><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">CalendarItem</span><span class="p">.</span><span class="err">#</span><span class="nx">error</span><span class="p">(</span><span class="mf">100</span><span class="p">));</span>
<a href="#__codelineno-45-34" id="__codelineno-45-34" name="__codelineno-45-34"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-35" id="__codelineno-45-35" name="__codelineno-45-35"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-36" id="__codelineno-45-36" name="__codelineno-45-36"></a>
<a href="#__codelineno-45-37" id="__codelineno-45-37" name="__codelineno-45-37"></a><span class="w">    </span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-45-38" id="__codelineno-45-38" name="__codelineno-45-38"></a><span class="w">    </span><span class="nx">startDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a href="#__codelineno-45-39" id="__codelineno-45-39" name="__codelineno-45-39"></a>
<a href="#__codelineno-45-40" id="__codelineno-45-40" name="__codelineno-45-40"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-41" id="__codelineno-45-41" name="__codelineno-45-41"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">new</span><span class="p">.</span><span class="nx">target</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-42" id="__codelineno-45-42" name="__codelineno-45-42"></a><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1e9</span><span class="p">);</span>
<a href="#__codelineno-45-43" id="__codelineno-45-43" name="__codelineno-45-43"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">setID</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<a href="#__codelineno-45-44" id="__codelineno-45-44" name="__codelineno-45-44"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-45" id="__codelineno-45-45" name="__codelineno-45-45"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-46" id="__codelineno-45-46" name="__codelineno-45-46"></a><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">CalendarItem</span><span class="p">.</span><span class="err">#</span><span class="nx">error</span><span class="p">(</span><span class="mf">300</span><span class="p">));</span>
<a href="#__codelineno-45-47" id="__codelineno-45-47" name="__codelineno-45-47"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-48" id="__codelineno-45-48" name="__codelineno-45-48"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-49" id="__codelineno-45-49" name="__codelineno-45-49"></a><span class="w">    </span><span class="nx">getID</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-50" id="__codelineno-45-50" name="__codelineno-45-50"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">CalendarItem</span><span class="p">.</span><span class="err">#</span><span class="nx">isUnset</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-51" id="__codelineno-45-51" name="__codelineno-45-51"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">ID</span><span class="p">;</span>
<a href="#__codelineno-45-52" id="__codelineno-45-52" name="__codelineno-45-52"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-53" id="__codelineno-45-53" name="__codelineno-45-53"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-54" id="__codelineno-45-54" name="__codelineno-45-54"></a><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">CalendarItem</span><span class="p">.</span><span class="err">#</span><span class="nx">error</span><span class="p">(</span><span class="mf">200</span><span class="p">));</span>
<a href="#__codelineno-45-55" id="__codelineno-45-55" name="__codelineno-45-55"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-56" id="__codelineno-45-56" name="__codelineno-45-56"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-57" id="__codelineno-45-57" name="__codelineno-45-57"></a><span class="w">    </span><span class="nx">getDateTimeStr</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-58" id="__codelineno-45-58" name="__codelineno-45-58"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startDateTime</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-59" id="__codelineno-45-59" name="__codelineno-45-59"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">startDateTime</span><span class="p">.</span><span class="nx">toUTCString</span><span class="p">();</span>
<a href="#__codelineno-45-60" id="__codelineno-45-60" name="__codelineno-45-60"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-61" id="__codelineno-45-61" name="__codelineno-45-61"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-62" id="__codelineno-45-62" name="__codelineno-45-62"></a><span class="w">    </span><span class="nx">summary</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-63" id="__codelineno-45-63" name="__codelineno-45-63"></a><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span>
<a href="#__codelineno-45-64" id="__codelineno-45-64" name="__codelineno-45-64"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">getID</span><span class="p">()</span>
<a href="#__codelineno-45-65" id="__codelineno-45-65" name="__codelineno-45-65"></a><span class="w">        </span><span class="si">}</span><span class="sb">) </span><span class="si">${</span>
<a href="#__codelineno-45-66" id="__codelineno-45-66" name="__codelineno-45-66"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">description</span>
<a href="#__codelineno-45-67" id="__codelineno-45-67" name="__codelineno-45-67"></a><span class="w">        </span><span class="si">}</span><span class="sb"> at </span><span class="si">${</span>
<a href="#__codelineno-45-68" id="__codelineno-45-68" name="__codelineno-45-68"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">getDateTimeStr</span><span class="p">()</span>
<a href="#__codelineno-45-69" id="__codelineno-45-69" name="__codelineno-45-69"></a><span class="w">        </span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<a href="#__codelineno-45-70" id="__codelineno-45-70" name="__codelineno-45-70"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-71" id="__codelineno-45-71" name="__codelineno-45-71"></a><span class="p">}</span>
<a href="#__codelineno-45-72" id="__codelineno-45-72" name="__codelineno-45-72"></a>
<a href="#__codelineno-45-73" id="__codelineno-45-73" name="__codelineno-45-73"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Reminder</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-74" id="__codelineno-45-74" name="__codelineno-45-74"></a><span class="w">    </span><span class="err">#</span><span class="nx">complete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// &lt;-- no ASI, semicolon needed</span>
<a href="#__codelineno-45-75" id="__codelineno-45-75" name="__codelineno-45-75"></a>
<a href="#__codelineno-45-76" id="__codelineno-45-76" name="__codelineno-45-76"></a><span class="w">    </span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">toStringTag</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Reminder"</span>
<a href="#__codelineno-45-77" id="__codelineno-45-77" name="__codelineno-45-77"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span><span class="nx">startDateTime</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-78" id="__codelineno-45-78" name="__codelineno-45-78"></a><span class="w">        </span><span class="k">super</span><span class="p">();</span>
<a href="#__codelineno-45-79" id="__codelineno-45-79" name="__codelineno-45-79"></a>
<a href="#__codelineno-45-80" id="__codelineno-45-80" name="__codelineno-45-80"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">description</span><span class="p">;</span>
<a href="#__codelineno-45-81" id="__codelineno-45-81" name="__codelineno-45-81"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">startDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startDateTime</span><span class="p">;</span>
<a href="#__codelineno-45-82" id="__codelineno-45-82" name="__codelineno-45-82"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-83" id="__codelineno-45-83" name="__codelineno-45-83"></a><span class="w">    </span><span class="nx">isComplete</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-84" id="__codelineno-45-84" name="__codelineno-45-84"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">!!</span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">complete</span><span class="p">;</span>
<a href="#__codelineno-45-85" id="__codelineno-45-85" name="__codelineno-45-85"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-86" id="__codelineno-45-86" name="__codelineno-45-86"></a><span class="w">    </span><span class="nx">markComplete</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-87" id="__codelineno-45-87" name="__codelineno-45-87"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">complete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a href="#__codelineno-45-88" id="__codelineno-45-88" name="__codelineno-45-88"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-89" id="__codelineno-45-89" name="__codelineno-45-89"></a><span class="w">    </span><span class="nx">summary</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-90" id="__codelineno-45-90" name="__codelineno-45-90"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isComplete</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-91" id="__codelineno-45-91" name="__codelineno-45-91"></a><span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`(</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getID</span><span class="p">()</span><span class="si">}</span><span class="sb">) Complete.`</span><span class="p">);</span>
<a href="#__codelineno-45-92" id="__codelineno-45-92" name="__codelineno-45-92"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-93" id="__codelineno-45-93" name="__codelineno-45-93"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-94" id="__codelineno-45-94" name="__codelineno-45-94"></a><span class="w">            </span><span class="k">super</span><span class="p">.</span><span class="nx">summary</span><span class="p">();</span>
<a href="#__codelineno-45-95" id="__codelineno-45-95" name="__codelineno-45-95"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-96" id="__codelineno-45-96" name="__codelineno-45-96"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-97" id="__codelineno-45-97" name="__codelineno-45-97"></a><span class="p">}</span>
<a href="#__codelineno-45-98" id="__codelineno-45-98" name="__codelineno-45-98"></a>
<a href="#__codelineno-45-99" id="__codelineno-45-99" name="__codelineno-45-99"></a><span class="kd">class</span><span class="w"> </span><span class="nx">Meeting</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-100" id="__codelineno-45-100" name="__codelineno-45-100"></a><span class="w">    </span><span class="err">#</span><span class="nx">getEndDateTimeStr</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-101" id="__codelineno-45-101" name="__codelineno-45-101"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">endDateTime</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-102" id="__codelineno-45-102" name="__codelineno-45-102"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">endDateTime</span><span class="p">.</span><span class="nx">toUTCString</span><span class="p">();</span>
<a href="#__codelineno-45-103" id="__codelineno-45-103" name="__codelineno-45-103"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-45-104" id="__codelineno-45-104" name="__codelineno-45-104"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-105" id="__codelineno-45-105" name="__codelineno-45-105"></a>
<a href="#__codelineno-45-106" id="__codelineno-45-106" name="__codelineno-45-106"></a><span class="w">    </span><span class="nx">endDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">  </span><span class="c1">// &lt;-- no ASI, semicolon needed</span>
<a href="#__codelineno-45-107" id="__codelineno-45-107" name="__codelineno-45-107"></a>
<a href="#__codelineno-45-108" id="__codelineno-45-108" name="__codelineno-45-108"></a><span class="w">    </span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="nx">toStringTag</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Meeting"</span>
<a href="#__codelineno-45-109" id="__codelineno-45-109" name="__codelineno-45-109"></a><span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span><span class="nx">startDateTime</span><span class="p">,</span><span class="nx">endDateTime</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-110" id="__codelineno-45-110" name="__codelineno-45-110"></a><span class="w">        </span><span class="k">super</span><span class="p">();</span>
<a href="#__codelineno-45-111" id="__codelineno-45-111" name="__codelineno-45-111"></a>
<a href="#__codelineno-45-112" id="__codelineno-45-112" name="__codelineno-45-112"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">description</span><span class="p">;</span>
<a href="#__codelineno-45-113" id="__codelineno-45-113" name="__codelineno-45-113"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">startDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startDateTime</span><span class="p">;</span>
<a href="#__codelineno-45-114" id="__codelineno-45-114" name="__codelineno-45-114"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">endDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">endDateTime</span><span class="p">;</span>
<a href="#__codelineno-45-115" id="__codelineno-45-115" name="__codelineno-45-115"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-116" id="__codelineno-45-116" name="__codelineno-45-116"></a><span class="w">    </span><span class="nx">getDateTimeStr</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-45-117" id="__codelineno-45-117" name="__codelineno-45-117"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span>
<a href="#__codelineno-45-118" id="__codelineno-45-118" name="__codelineno-45-118"></a><span class="w">            </span><span class="k">super</span><span class="p">.</span><span class="nx">getDateTimeStr</span><span class="p">()</span>
<a href="#__codelineno-45-119" id="__codelineno-45-119" name="__codelineno-45-119"></a><span class="w">        </span><span class="si">}</span><span class="sb"> - </span><span class="si">${</span>
<a href="#__codelineno-45-120" id="__codelineno-45-120" name="__codelineno-45-120"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">getEndDateTimeStr</span><span class="p">()</span>
<a href="#__codelineno-45-121" id="__codelineno-45-121" name="__codelineno-45-121"></a><span class="w">        </span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<a href="#__codelineno-45-122" id="__codelineno-45-122" name="__codelineno-45-122"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-45-123" id="__codelineno-45-123" name="__codelineno-45-123"></a><span class="p">}</span>
</code></pre></div>
<p>Take some time to read and digest those <code>class</code> definitions. Did you spot most of the <code>class</code> features we talked about in this chapter?</p>
<table>
<thead>
<tr>
<th align="left">NOTE:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">One question you may have: why didn't I move the repeated logic of <code>description</code> and <code>startDateTime</code> setting from both subclass constructors into the single base constructor? This is a nuanced point, but it's not my intention that <code>CalendarItem</code> ever be directly instantiated; it's what in class-oriented terms we refer to as an "abstract class". That's why I'm using <code>new.target</code> to throw an error if the <code>CalendarItem</code> class is ever directly instantiated! So I don't want to imply by signature that the <code>CalendarItem(..)</code> constructor should ever be directly used.</td>
</tr>
</tbody>
</table>
<p>Let's now see these three classes in use:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-46-1" id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">callMyParents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Reminder</span><span class="p">(</span>
<a href="#__codelineno-46-2" id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="w">    </span><span class="s2">"Call my parents to say hi"</span><span class="p">,</span>
<a href="#__codelineno-46-3" id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="w">    </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="s2">"July 7, 2022 11:00:00 UTC"</span><span class="p">)</span>
<a href="#__codelineno-46-4" id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="p">);</span>
<a href="#__codelineno-46-5" id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="nx">callMyParents</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
<a href="#__codelineno-46-6" id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="c1">// [object Reminder]</span>
<a href="#__codelineno-46-7" id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="nx">callMyParents</span><span class="p">.</span><span class="nx">summary</span><span class="p">();</span>
<a href="#__codelineno-46-8" id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="c1">// (586380912) Call my parents to say hi at</span>
<a href="#__codelineno-46-9" id="__codelineno-46-9" name="__codelineno-46-9"></a><span class="c1">// Thu, 07 Jul 2022 11:00:00 GMT</span>
<a href="#__codelineno-46-10" id="__codelineno-46-10" name="__codelineno-46-10"></a><span class="nx">callMyParents</span><span class="p">.</span><span class="nx">markComplete</span><span class="p">();</span>
<a href="#__codelineno-46-11" id="__codelineno-46-11" name="__codelineno-46-11"></a><span class="nx">callMyParents</span><span class="p">.</span><span class="nx">summary</span><span class="p">();</span>
<a href="#__codelineno-46-12" id="__codelineno-46-12" name="__codelineno-46-12"></a><span class="c1">// (586380912) Complete.</span>
<a href="#__codelineno-46-13" id="__codelineno-46-13" name="__codelineno-46-13"></a><span class="nx">callMyParents</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Reminder</span><span class="p">;</span>
<a href="#__codelineno-46-14" id="__codelineno-46-14" name="__codelineno-46-14"></a><span class="c1">// true</span>
<a href="#__codelineno-46-15" id="__codelineno-46-15" name="__codelineno-46-15"></a><span class="nx">callMyParents</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="p">;</span>
<a href="#__codelineno-46-16" id="__codelineno-46-16" name="__codelineno-46-16"></a><span class="c1">// true</span>
<a href="#__codelineno-46-17" id="__codelineno-46-17" name="__codelineno-46-17"></a><span class="nx">callMyParents</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Meeting</span><span class="p">;</span>
<a href="#__codelineno-46-18" id="__codelineno-46-18" name="__codelineno-46-18"></a><span class="c1">// false</span>
<a href="#__codelineno-46-19" id="__codelineno-46-19" name="__codelineno-46-19"></a>
<a href="#__codelineno-46-20" id="__codelineno-46-20" name="__codelineno-46-20"></a>
<a href="#__codelineno-46-21" id="__codelineno-46-21" name="__codelineno-46-21"></a><span class="kd">var</span><span class="w"> </span><span class="nx">interview</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Meeting</span><span class="p">(</span>
<a href="#__codelineno-46-22" id="__codelineno-46-22" name="__codelineno-46-22"></a><span class="w">    </span><span class="s2">"Job Interview: ABC Tech"</span><span class="p">,</span>
<a href="#__codelineno-46-23" id="__codelineno-46-23" name="__codelineno-46-23"></a><span class="w">    </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="s2">"June 23, 2022 08:30:00 UTC"</span><span class="p">),</span>
<a href="#__codelineno-46-24" id="__codelineno-46-24" name="__codelineno-46-24"></a><span class="w">    </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="s2">"June 23, 2022 09:15:00 UTC"</span><span class="p">)</span>
<a href="#__codelineno-46-25" id="__codelineno-46-25" name="__codelineno-46-25"></a><span class="p">);</span>
<a href="#__codelineno-46-26" id="__codelineno-46-26" name="__codelineno-46-26"></a><span class="nx">interview</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
<a href="#__codelineno-46-27" id="__codelineno-46-27" name="__codelineno-46-27"></a><span class="c1">// [object Meeting]</span>
<a href="#__codelineno-46-28" id="__codelineno-46-28" name="__codelineno-46-28"></a><span class="nx">interview</span><span class="p">.</span><span class="nx">summary</span><span class="p">();</span>
<a href="#__codelineno-46-29" id="__codelineno-46-29" name="__codelineno-46-29"></a><span class="c1">// (994337604) Job Interview: ABC Tech at Thu,</span>
<a href="#__codelineno-46-30" id="__codelineno-46-30" name="__codelineno-46-30"></a><span class="c1">// 23 Jun 2022 08:30:00 GMT - Thu, 23 Jun 2022</span>
<a href="#__codelineno-46-31" id="__codelineno-46-31" name="__codelineno-46-31"></a><span class="c1">// 09:15:00 GMT</span>
<a href="#__codelineno-46-32" id="__codelineno-46-32" name="__codelineno-46-32"></a><span class="nx">interview</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Meeting</span><span class="p">;</span>
<a href="#__codelineno-46-33" id="__codelineno-46-33" name="__codelineno-46-33"></a><span class="c1">// true</span>
<a href="#__codelineno-46-34" id="__codelineno-46-34" name="__codelineno-46-34"></a><span class="nx">interview</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">CalendarItem</span><span class="p">;</span>
<a href="#__codelineno-46-35" id="__codelineno-46-35" name="__codelineno-46-35"></a><span class="c1">// true</span>
<a href="#__codelineno-46-36" id="__codelineno-46-36" name="__codelineno-46-36"></a><span class="nx">interview</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nx">Reminder</span><span class="p">;</span>
<a href="#__codelineno-46-37" id="__codelineno-46-37" name="__codelineno-46-37"></a><span class="c1">// false</span>
<a href="#__codelineno-46-38" id="__codelineno-46-38" name="__codelineno-46-38"></a>
<a href="#__codelineno-46-39" id="__codelineno-46-39" name="__codelineno-46-39"></a>
<a href="#__codelineno-46-40" id="__codelineno-46-40" name="__codelineno-46-40"></a><span class="nx">Reminder</span><span class="p">.</span><span class="nx">isSameItem</span><span class="p">(</span><span class="nx">callMyParents</span><span class="p">,</span><span class="nx">callMyParents</span><span class="p">);</span>
<a href="#__codelineno-46-41" id="__codelineno-46-41" name="__codelineno-46-41"></a><span class="c1">// true</span>
<a href="#__codelineno-46-42" id="__codelineno-46-42" name="__codelineno-46-42"></a><span class="nx">Meeting</span><span class="p">.</span><span class="nx">isSameItem</span><span class="p">(</span><span class="nx">callMyParents</span><span class="p">,</span><span class="nx">interview</span><span class="p">);</span>
<a href="#__codelineno-46-43" id="__codelineno-46-43" name="__codelineno-46-43"></a><span class="c1">// false</span>
</code></pre></div>
<p>Admittedly, some bits of this example are a little contrived. But honestly, I think pretty much all of this is plausible and reasonable usages of the various <code>class</code> features.</p>
<p>By the way, there's probably a million different ways to structure the above code logic. I'm by no means claiming this is the <em>right</em> or <em>best</em> way to do so. As an exercise for the reader, try your hand and writing it yourself, and take note of things you did differently than my approach.</p>
<div class="footnote">
<hr/>
<ol>
<li id="fn:POLP">
<p>"Principle of Least Privilege", Wikipedia; https://en.wikipedia.org/wiki/Principle_of_least_privilege ; Accessed July 2022 <a class="footnote-backref" href="#fnref:POLP" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Chapter 2: How Objects Work" class="md-footer__link md-footer__link--prev" href="../ch2/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                  Previous
                </span>
                Chapter 2: How Objects Work
              </div>
</div>
</a>
<a aria-label="Next: Chapter 4: This Works" class="md-footer__link md-footer__link--next" href="../ch4/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                  Next
                </span>
                Chapter 4: This Works
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://shanenull.com/" rel="noopener" target="_blank" title="shanenull.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M256 8C119.3 8 8 119.2 8 256c0 136.7 111.3 248 248 248s248-111.3 248-248C504 119.2 392.7 8 256 8zM33 256c0-32.3 6.9-63 19.3-90.7l106.4 291.4C84.3 420.5 33 344.2 33 256zm223 223c-21.9 0-43-3.2-63-9.1l66.9-194.4 68.5 187.8c.5 1.1 1 2.1 1.6 3.1-23.1 8.1-48 12.6-74 12.6zm30.7-327.5c13.4-.7 25.5-2.1 25.5-2.1 12-1.4 10.6-19.1-1.4-18.4 0 0-36.1 2.8-59.4 2.8-21.9 0-58.7-2.8-58.7-2.8-12-.7-13.4 17.7-1.4 18.4 0 0 11.4 1.4 23.4 2.1l34.7 95.2L200.6 393l-81.2-241.5c13.4-.7 25.5-2.1 25.5-2.1 12-1.4 10.6-19.1-1.4-18.4 0 0-36.1 2.8-59.4 2.8-4.2 0-9.1-.1-14.4-.3C109.6 73 178.1 33 256 33c58 0 110.9 22.2 150.6 58.5-1-.1-1.9-.2-2.9-.2-21.9 0-37.4 19.1-37.4 39.6 0 18.4 10.6 33.9 21.9 52.3 8.5 14.8 18.4 33.9 18.4 61.5 0 19.1-7.3 41.2-17 72.1l-22.2 74.3-80.7-239.6zm81.4 297.2 68.1-196.9c12.7-31.8 17-57.2 17-79.9 0-8.2-.5-15.8-1.5-22.9 17.4 31.8 27.3 68.2 27.3 107 0 82.3-44.6 154.1-110.9 192.7z"></path></svg>
</a>
<a class="md-social__link" href="https://shane0.pythonanywhere.com/" rel="noopener" target="_blank" title="shane0.pythonanywhere.com">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"></path></svg>
</a>
<a class="md-social__link" href="http://www.youtube.com/c/ShaneNull" rel="noopener" target="_blank" title="www.youtube.com">
<svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>
</a>
<a class="md-social__link" href="https://www.instagram.com/nullshane/" rel="noopener" target="_blank" title="www.instagram.com">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg>
</a>
<a class="md-social__link" href="https://earmassagetherapist.bandcamp.com/releases" rel="noopener" target="_blank" title="earmassagetherapist.bandcamp.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8Zm48.2 326.1h-181L207.9 178h181Z"></path></svg>
</a>
<a class="md-social__link" href="https://github.com/shane0" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="https://gitlab.com/shane0" rel="noopener" target="_blank" title="gitlab.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81-2.9-.295-5.7.083-8.4 1.11-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.09 18.09 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3 4.7 0 9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82z"></path></svg>
</a>
<a class="md-social__link" href="https://twitter.com/shane_null" rel="noopener" target="_blank" title="twitter.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
</a>
<a class="md-social__link" href="https://www.linkedin.com/in/shanenull" rel="noopener" target="_blank" title="www.linkedin.com">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.action.edit", "content.action.view", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": 2023, "provider": "mike"}}</script>
<script src="../../../assets/javascripts/bundle.51d95adb.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?tex"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>